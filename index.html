<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B·∫£n ƒê·ªì Marketing To√†n Di·ªán - N·ªám V·∫°n Th√†nh 2025‚Äì2030</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
            background-color: #F0F4F8;
            color: #333;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }
        .chart-container-tall {
            position: relative;
            width: 100%;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            height: 450px;
            max-height: 500px;
        }
        .brand-card { background-color: #003F5C; color: white; }
        .brand-card-inner { background-color: #2F4B7C; }
        .brand-card-detail { background-color: #665191; }
        .flow-step {
            background-color: white;
            border: 2px solid #003F5C;
            color: #003F5C;
            font-weight: bold;
            padding: 1rem 1.5rem;
            border-radius: 0.5rem;
            text-align: center;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            min-width: 180px;
        }
        .flow-arrow {
            font-size: 2.5rem;
            font-weight: bold;
            color: #FFA600;
            margin: 0.5rem 1rem;
            align-self: center;
        }
        
        /* --- CSS CHO ACCORDION (N·ªôi dung chi ti·∫øt) --- */
        .accordion {
            background-color: #003F5C;
            color: white;
            cursor: pointer;
            padding: 18px;
            width: 100%;
            text-align: left;
            border: none;
            outline: none;
            transition: 0.4s;
            font-size: 1.75rem;
            font-weight: bold;
            border-radius: 8px;
            margin-top: 1rem;
        }
        .accordion:after {
            content: '\002B'; /* D·∫•u c·ªông */
            color: #FFA600;
            font-weight: bold;
            float: right;
            margin-left: 5px;
        }
        .accordion.active:after {
            content: "\2212"; /* D·∫•u tr·ª´ */
        }
        .panel {
            padding: 0 18px;
            background-color: white;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.2s ease-out;
            border-radius: 0 0 8px 8px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            margin-bottom: 0.5rem;
        }
        .panel-content {
            padding: 24px 12px;
            border-top: 2px solid #F0F4F8;
        }
        .panel-content h4 {
            font-size: 1.25rem;
            font-weight: bold;
            color: #665191;
            margin-top: 1rem;
            margin-bottom: 0.5rem;
        }
        .panel-content ul {
            list-style-type: disc;
            margin-left: 20px;
            margin-bottom: 1rem;
        }
        .panel-content table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
            margin-bottom: 1rem;
        }
        .panel-content th, .panel-content td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        .panel-content th {
            background-color: #f2f2f2;
        }
        
        /* --- CSS CHO T√çNH NƒÇNG AI --- */
        .gemini-button {
            background-image: linear-gradient(to right, #665191 0%, #003F5C 51%, #665191 100%);
            margin: 10px 0;
            padding: 12px 25px;
            text-align: center;
            text-transform: uppercase;
            transition: 0.5s;
            background-size: 200% auto;
            color: white;
            border-radius: 0.5rem;
            display: block;
            border: none;
            font-weight: bold;
            cursor: pointer;
        }
        .gemini-button:hover {
            background-position: right center; /* change the direction of the change here */
            color: #fff;
            text-decoration: none;
        }
        .gemini-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .result-box {
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-top: 1rem;
            white-space: pre-wrap;
            word-wrap: break-word;
            font-family: monospace;
            min-height: 50px;
            max-height: 400px;
            overflow-y: auto;
            font-size: 0.9rem;
        }
        .prose {
            font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
            font-size: 1rem;
            line-height: 1.6;
            text-align: left; /* ƒê·∫£m b·∫£o text trong prose cƒÉn tr√°i */
        }
        .prose ul {
            list-style-type: disc;
            margin-left: 20px;
            margin-bottom: 1rem;
        }
        .prose li {
            margin-bottom: 0.5rem;
        }
        .prose strong {
            font-weight: bold;
            color: #003F5C;
        }
        /* --- CSS CHO MODAL --- */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            visibility: hidden;
            opacity: 0;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .modal-content {
            background-color: white;
            padding: 2rem;
            border-radius: 0.5rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            width: 90%;
            max-width: 500px;
            text-align: center;
            transform: translateY(-20px);
            transition: transform 0.3s ease;
        }
        .modal-overlay.visible {
            visibility: visible;
            opacity: 1;
        }
        .modal-overlay.visible .modal-content {
            transform: translateY(0);
        }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #665191;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .modal-message {
            font-size: 1.1rem;
            color: #333;
            margin-bottom: 1.5rem;
        }
        .modal-close-btn {
            background-color: #003F5C;
            color: white;
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 0.25rem;
            cursor: pointer;
            font-weight: bold;
        }
        
        /* ===== CSS M·ªöI: CHO FORM G√ìP √ù ===== */
        .feedback-input { /* D√πng chung cho input/select */
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ccc;
            border-radius: 0.25rem;
            font-size: 0.9rem;
        }
        .feedback-form-container {
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 2px dashed #FFA600;
            background-color: #fdfaf4; /* M√†u n·ªÅn v√†ng nh·∫°t */
            padding: 1rem;
            border-radius: 8px;
        }
        .feedback-form-container h5 {
            font-size: 1.1rem;
            font-weight: bold;
            color: #003F5C;
            margin-bottom: 0.75rem;
        }
        .feedback-textarea {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ccc;
            border-radius: 0.25rem;
            font-size: 0.9rem;
            min-height: 100px;
            margin-bottom: 0.75rem;
        }
        .feedback-button {
            background-color: #FFA600;
            color: #003F5C;
            border: none;
            padding: 0.5rem 1rem;
            cursor: pointer;
            font-weight: bold;
            border-radius: 0.25rem;
            transition: opacity 0.3s;
        }
        .feedback-button:hover {
            opacity: 0.8;
        }
        .feedback-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        /* ===== K·∫æT TH√öC CSS M·ªöI ===== */
        
        /* --- CSS CHATBOT --- */
        .chat-fab {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background-image: linear-gradient(to right, #665191 0%, #003F5C 100%);
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            z-index: 1010;
            transition: transform 0.3s ease;
        }
        .chat-fab:hover {
            transform: scale(1.1);
        }
        .chat-window {
            position: fixed;
            bottom: 6rem;
            right: 2rem;
            width: 90%;
            max-width: 400px;
            height: 500px;
            background-color: white;
            border-radius: 0.5rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            z-index: 1009;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            visibility: hidden;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.3s ease;
        }
        .chat-window.visible {
            visibility: visible;
            opacity: 1;
            transform: translateY(0);
        }
        .chat-header {
            background-color: #003F5C;
            color: white;
            padding: 1rem;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .chat-close {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }
        .chat-messages {
            flex: 1;
            padding: 1rem;
            overflow-y: auto;
            background-color: #F0F4F8;
        }
        .chat-message {
            margin-bottom: 0.75rem;
            padding: 0.5rem 0.75rem;
            border-radius: 0.5rem;
            max-width: 80%;
            line-height: 1.5;
        }
        .chat-message.user {
            background-color: #003F5C;
            color: white;
            margin-left: auto;
            text-align: right;
        }
        .chat-message.model {
            background-color: #e9ecef;
            color: #333;
            margin-right: auto;
            text-align: left;
        }
        .chat-message.model.thinking {
            display: flex;
            align-items: center;
        }
        .chat-message.model.thinking .loader-dots {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: #665191;
            margin: 0 2px;
            animation: bounce 1.4s infinite both;
        }
        .chat-message.model.thinking .loader-dots:nth-child(2) { animation-delay: .2s; }
        .chat-message.model.thinking .loader-dots:nth-child(3) { animation-delay: .4s; }
        @keyframes bounce { 0%, 80%, 100% { transform: scale(0); } 40% { transform: scale(1.0); } }
        
        .chat-input-area {
            display: flex;
            padding: 1rem;
            border-top: 1px solid #ddd;
            background-color: white;
        }
        .chat-input {
            flex: 1;
            padding: 0.75rem;
            border: 1px solid #ccc;
            border-radius: 0.25rem 0 0 0.25rem;
            font-size: 0.9rem;
        }
        .chat-send {
            background-color: #FFA600;
            color: #003F5C;
            border: none;
            padding: 0 1rem;
            cursor: pointer;
            font-weight: bold;
            border-radius: 0 0.25rem 0.25rem 0;
            font-size: 1.25rem;
        }
        
        /* ===== CSS PH·∫¶N T√ÅC GI·∫¢ ===== */
        .author-box {
            display: flex;
            flex-direction: column; /* Ch·ªØ tr√™n, ·∫£nh d∆∞·ªõi */
            align-items: center; /* CƒÉn gi·ªØa cho c·∫£ c·ª•m */
            justify-content: center;
            gap: 15px; /* Kho·∫£ng c√°ch gi·ªØa ch·ªØ v√† ·∫£nh */
            margin-top: 1.5rem; /* Th√™m kho·∫£ng c√°ch v·ªõi d√≤ng tagline */
        }
        .author-text {
            text-align: center; 
            font-size: 0.95rem; 
            color: #555;
            font-weight: 500;
            margin: 0;
            padding: 0;
        }
        .author-image {
            width: 150px; 
            height: auto; 
            max-height: 220px; 
            max-width: 100%;
            border-radius: 8px; 
            object-fit: contain;
            object-position: center; 
            box-shadow: 0 4px 10px rgba(0,0,0,0.15);
            border: none;
        }

        /* --- CSS M·ªöI CHO N√öT MICRO --- */
        .chat-mic {
            background-color: #f0f4f8;
            color: #665191;
            border: 1px solid #ccc;
            border-left: none;
            padding: 0 0.75rem;
            cursor: pointer;
            font-size: 1.25rem;
            display: flex;
            align-items: center;
        }
        .chat-mic.recording {
            background-color: #D45087; /* M√†u ƒë·ªè khi ƒëang thu √¢m */
            color: white;
            animation: pulse 1.5s infinite;
        }
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(212, 80, 135, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(212, 80, 135, 0); }
            100% { box-shadow: 0 0 0 0 rgba(212, 80, 135, 0); }
        }

    </style>
</head>
<body class="text-gray-800">

    <main class="max-w-7xl mx-auto p-4 sm:p-8">
        
        <header class="mb-10 text-center">
            <h1 class="text-4xl md:text-5xl font-bold mb-2" style="color: #003F5C;">B·∫£n ƒê·ªì Marketing To√†n Di·ªán</h1>
            <h2 class="text-2xl md:text-3xl font-semibold" style="color: #665191;">N·ªám V·∫°n Th√†nh 2025‚Äì2030</h2>
            <p class="text-lg italic text-gray-600 mt-4 max-w-3xl mx-auto">
                ‚Äúƒê·ªãnh h∆∞·ªõng chi·∫øn l∆∞·ª£c 360¬∞ t·ª´ truy·ªÅn th·ªëng ƒë·∫øn AI, d·∫´n l·ªëi gi·∫•c ng·ªß Vi·ªát ra t·∫ßm qu·ªëc t·∫ø.‚Äù
            </p>
            
            <div class="author-box">
                <p class="author-text">Ng∆∞·ªùi ph·ª•ng s·ª±: Hat.ai ‚Äì Nh√† Kh·ªüi Nghi·ªáp Smart Up</p>
                <img src="z7206684397874_e07693fe70d5bbb7b9356011f7a0e249.jpg" alt="Logo Smart Up" class="author-image">
            </div>
            </header>
        
        <button class="accordion">1. B·ªëi C·∫£nh Hi·ªán T·∫°i & 3 Th√°ch Th·ª©c C·ªët L√µi</button>
        <div class="panel">
            <div class="panel-content">
                <p class="text-center max-w-3xl mx-auto text-gray-600 mb-8">Th∆∞∆°ng hi·ªáu N·ªám V·∫°n Th√†nh ƒëang ƒë·ªëi m·∫∑t v·ªõi ba v·∫•n ƒë·ªÅ l·ªõn c·∫£n tr·ªü s·ª± ph√°t tri·ªÉn... <br>    N·ªôi dung chi ti·∫øt d∆∞·ªõi ƒë√¢y ƒë∆∞·ª£c tr√≠ch t·ª´ ` (Ph√¢n t√≠ch chi ti·∫øt)`.</p>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="bg-white rounded-lg shadow-xl p-6 flex flex-col justify-center items-center border-l-4 border-red-500">
                        <div class="text-5xl mb-3">&#9888;</div>
                        <h4 class="text-xl font-semibold mb-3" style="color: #D45087;">"Lo·∫°n Gi√°" Online</h4>
                        <p class="text-gray-600 text-center">C√°c ƒë·∫°i l√Ω t·ª± ph√°t ph√° gi√° (chi·∫øt kh·∫•u 35%) tr√™n k√™nh online, ·∫£nh h∆∞·ªüng nghi√™m tr·ªçng ƒë·∫øn gi√° tr·ªã th∆∞∆°ng hi·ªáu v√† t·∫°o ra "cu·ªôc n·ªôi chi·∫øn".</p>
                    </div>
                    <div class="bg-white rounded-lg shadow-xl p-6 border-l-4" style="border-color: #FFA600;">
                        <h4 class="text-xl font-semibold mb-3 text-center" style="color: #003F5C;">Xung ƒê·ªôt K√™nh Ph√¢n Ph·ªëi</h4>
                        <p class="text-gray-600 mb-4 text-center">S·ª± ch√™nh l·ªách l·ªõn v·ªÅ chi·∫øt kh·∫•u v√† m·ª©c ƒë·ªô ki·ªÉm so√°t gi·ªØa hai k√™nh, t·∫°o ra m√¥i tr∆∞·ªùng c·∫°nh tranh kh√¥ng l√†nh m·∫°nh.</p>
                        <div class="flex justify-around">
                            <div class="text-center">
                                <div class="text-4xl font-bold" style="color: #003F5C;">~1000+</div>
                                <div class="text-gray-700">ƒê·∫°i L√Ω</div>
                                <div class="text-sm font-semibold" style="color: #D45087;">(CK ~28-40%)</div>
                            </div>
                            <div class="text-center">
                                <div class="text-4xl font-bold" style="color: #665191;">44</div>
                                <div class="text-gray-700">Showroom</div>
                                <div class="text-sm font-semibold" style="color: #665191;">(CK ~20%)</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow-xl p-6 border-l-4" style="border-color: #665191;">
                        <h4 class="text-xl font-semibold mb-3 text-center" style="color: #003F5C;">ƒêi·ªÉm Y·∫øu K·ªπ Thu·∫≠t S·ªë</h4>
                        <p class="text-gray-600 mb-4 text-center">C√°c k√™nh online ch√≠nh th·ª©c thi·∫øu chuy√™n nghi·ªáp v√† kh√¥ng khai th√°c ƒë∆∞·ª£c d·ªØ li·ªáu ng∆∞·ªùi d√πng.</p>
                        <ul class="list-none space-y-2">
                            <li class="flex items-center"><span class="text-red-500 mr-2 font-bold text-xl">&#10060;</span> Fanpage ch√≠nh th·ª©c "kh√¥ng c√≥ tick xanh (ch√≠nh ch·ªß)".</li>
                            <li class="flex items-center"><span class="text-red-500 mr-2 font-bold text-xl">&#10060;</span> Chatbot kh√¥ng ho·∫°t ƒë·ªông (website).</li>
                            <li class="flex items-center"><span class="text-red-500 mr-2 font-bold text-xl">&#10060;</span> Nhi·ªÅu fanpage v√† website gi·∫£ g√¢y hi·ªÉu l·∫ßm v√† m·∫•t ni·ªÅm tin kh√°ch h√†ng</li>
                        </ul>
                    </div>
                    </div>
                
                <h4>Ph√¢n t√≠ch 5W1H (Gi·∫£i ph·∫´u "Lo·∫°n gi√°")</h4>
                <ul>
                    <li><strong>WHAT:</strong> T√¨nh tr·∫°ng lo·∫°n gi√° qu·∫£ng c√°o. C√°c ƒë·∫°i l√Ω kh√°c nhau ch·∫°y c√°c m·ª©c chi·∫øt kh·∫•u kh√°c nhau (v√≠ d·ª•: 20% vs 25%) tr√™n c√πng m·ªôt s·∫£n ph·∫©m.</li>
                    <li><strong>WHERE:</strong> Tr√™n t·∫•t c·∫£ c√°c k√™nh online (website ƒë·∫°i l√Ω, s√†n TMƒêT) v√† c·∫£ c·ª≠a h√†ng v·∫≠t l√Ω.</li>
                    <li><strong>WHO:</strong> Th·ªß ph·∫°m l√† h·ªá th·ªëng 1000 ƒë·∫°i l√Ω v√† s·ª± thi·∫øu ki·ªÉm so√°t t·ª´ V·∫°n Th√†nh. N·∫°n nh√¢n l√† ng∆∞·ªùi ti√™u d√πng (b·ªëi r·ªëi) v√† ch√≠nh V·∫°n Th√†nh.</li>
                    <li><strong>WHY (G·ªëc r·ªÖ):</strong> Xung ƒë·ªôt k√™nh (ƒê·∫°i l√Ω B hy sinh l·ª£i nhu·∫≠n ƒë·ªÉ l·∫•y doanh s·ªë) v√† "H·ªë ƒëen d·ªØ li·ªáu" (V·∫°n Th√†nh kh√¥ng c√≥ data kh√°ch cu·ªëi, n√™n c√¥ng c·ª• duy nh·∫•t ƒë·ªÉ th√∫c ƒë·∫©y l√† "gi·∫£m gi√°").</li>
                    <li><strong>HOW (H·∫≠u qu·∫£):</strong> Kh√°ch h√†ng m·∫•t ni·ªÅm tin, ƒë·∫°i l√Ω trung th√†nh b·ªã tr·ª´ng ph·∫°t, V·∫°n Th√†nh m·∫•t quy·ªÅn ƒë·ªãnh gi√°.</li>
                </ul>

                <div class="mt-10 pt-6 border-t border-gray-200">
                    <h4 class="text-xl font-bold mb-3 text-center" style="color: #003F5C;">
                        <span class="text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600">‚ú®</span>
                        Hat Support: G·ª£i √ù C√¢u H·ªèi M·ªü R·ªông
                    </h4>
                    <p class="text-sm text-gray-600 mb-4 text-center">B·∫•m ƒë·ªÉ AI g·ª£i √Ω c√°c c√¢u h·ªèi/v·∫•n ƒë·ªÅ c·∫ßn th·∫£o lu·∫≠n th√™m cho m·ª•c n√†y.</p>
                    <div class="bg-white p-6 rounded-lg shadow-lg border border-gray-100">
                        <button class="gemini-button w-full brainstorm-button" data-section-id="muc-1" data-section-content="B·ªëi C·∫£nh Hi·ªán T·∫°i & 3 Th√°ch Th·ª©c C·ªët L√µi: Lo·∫°n Gi√° Online, Xung ƒê·ªôt K√™nh, ƒêi·ªÉm Y·∫øu K·ªπ Thu·∫≠t S·ªë.">
                            ‚ú® G·ª£i √ù 3 C√¢u H·ªèi/V·∫•n ƒê·ªÅ Th·∫£o Lu·∫≠n
                        </button>
                        <pre id="brainstormResult-muc-1" class="result-box prose"></pre>
                    </div>
                </div>
                
                <div class="feedback-form-container">
                    <form class="feedback-form">
                        <h5>üìù G√≥p √Ω cho M·ª•c 1</h5>
                        <input type="hidden" name="section" value="M·ª•c 1: B·ªëi C·∫£nh Hi·ªán T·∫°i & 3 Th√°ch Th·ª©c C·ªët L√µi">
                        <textarea name="feedback" class="feedback-textarea" placeholder="Xin vui l√≤ng chia s·∫ª g√≥p √Ω c·ªßa b·∫°n cho m·ª•c n√†y..." required></textarea>
                        <button type-="submit" class="feedback-button">G·ª≠i G√≥p √ù</button>
                    </form>
                </div>
                </div>
        </div>

        <button class="accordion">2. Ph√¢n T√≠ch ƒê·ªãnh V·ªã Th·ªã Tr∆∞·ªùng</button>
        <div class="panel">
            <div class="panel-content">
                <p class="text-gray-600 mb-6">Bi·ªÉu ƒë·ªì th·ªÉ hi·ªán t∆∞∆°ng quan ƒë·ªãnh v·ªã c·ªßa N·ªám V·∫°n Th√†nh so v·ªõi c√°c ƒë·ªëi th·ªß ch√≠nh...<br>    N·ªôi dung chi ti·∫øt d∆∞·ªõi ƒë√¢y (Ma tr·∫≠n) ƒë∆∞·ª£c tr√≠ch t·ª´ ` (Ph√¢n t√≠ch chi ti·∫øt)`.</p>
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <div class="lg:col-span-2">
                        <div class="chart-container-tall">
                            <canvas id="positioningChart"></canvas>
                        </div>
                    </div>
                    <div class="lg:col-span-1">
                        <h4>Ma tr·∫≠n So s√°nh C·∫°nh tranh</h4>
                        <p>B·∫£ng ma tr·∫≠n tr·ª±c quan h√≥a v·ªã tr√≠ "m·∫Øc k·∫πt" (stuck in the middle) c·ªßa V·∫°n Th√†nh.</p>
                        <table>
                            <thead>
                                <tr>
                                    <th>Th∆∞∆°ng hi·ªáu</th>
                                    <th>ƒê·ªãnh v·ªã c·ªët l√µi</th>
                                    <th>USP Ch√≠nh</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Kymdan</strong></td>
                                    <td>Di s·∫£n, Cao c·∫•p Tuy·ªát ƒë·ªëi</td>
                                    <td>Ch·∫•t l∆∞·ª£ng v·∫≠t li·ªáu, Ki·ªÉm so√°t gi√° tuy·ªát ƒë·ªëi</td>
                                </tr>
                                <tr>
                                    <td><strong>Dunlopillo</strong></td>
                                    <td>C√¥ng ngh·ªá Qu·ªëc t·∫ø (UK)</td>
                                    <td>C√¥ng ngh·ªá gi·∫•c ng·ªß (l√†m m√°t, l√≤ xo)</td>
                                </tr>
                                <tr>
                                    <td><strong>Li√™n √Å</strong></td>
                                    <td>Ti√™u chu·∫©n Qu·ªëc t·∫ø</td>
                                    <td>Ch·ª©ng ch·ªâ (ECO, LGA), B·ªÅn v·ªØng</td>
                                </tr>
                                <tr>
                                    <td><strong>Everon</strong></td>
                                    <td>Phong c√°ch H√†n Qu·ªëc</td>
                                    <td>Thi·∫øt k·∫ø, ƒêa th∆∞∆°ng hi·ªáu (Artemis)</td>
                                </tr>
                                <tr>
                                    <td><strong>Kim C∆∞∆°ng</strong></td>
                                    <td>ƒê·∫°i ch√∫ng, NƒÉng ƒë·ªông</td>
                                    <td>K·ª∑ l·ª•c Guinness, Ph√¢n ph·ªëi si√™u r·ªông (2000+)</td>
                                </tr>
                                <tr>
                                    <td><strong>V·∫°n Th√†nh</strong></td>
                                    <td style="color: red;">(Kh√¥ng r√µ r√†ng)</td>
                                    <td>Di s·∫£n (1980), Ph√¢n ph·ªëi r·ªông (1000+), N·ªòI CHI·∫æN K√äNH</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="mt-10 pt-6 border-t border-gray-200">
                    <h4 class="text-xl font-bold mb-3 text-center" style="color: #003F5C;">
                        <span class="text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600">‚ú®</span>
                        Hat Support: G·ª£i √ù C√¢u H·ªèi M·ªü R·ªông
                    </h4>
                    <p class="text-sm text-gray-600 mb-4 text-center">B·∫•m ƒë·ªÉ AI g·ª£i √Ω c√°c c√¢u h·ªèi/v·∫•n ƒë·ªÅ c·∫ßn th·∫£o lu·∫≠n th√™m cho m·ª•c n√†y.</p>
                    <div class="bg-white p-6 rounded-lg shadow-lg border border-gray-100">
                        <button class="gemini-button w-full brainstorm-button" data-section-id="muc-2" data-section-content="Ph√¢n T√≠ch ƒê·ªãnh V·ªã Th·ªã Tr∆∞·ªùng: So s√°nh V·∫°n Th√†nh v·ªõi Kymdan, Li√™n √Å, Kim C∆∞∆°ng. V·∫°n Th√†nh ƒëang 'm·∫Øc k·∫πt' ·ªü gi·ªØa.">
                            ‚ú® G·ª£i √ù 3 C√¢u H·ªèi/V·∫•n ƒê·ªÅ Th·∫£o Lu·∫≠n
                        </button>
                        <pre id="brainstormResult-muc-2" class="result-box prose"></pre>
                    </div>
                </div>
                
                <div class="feedback-form-container">
                    <form class="feedback-form">
                        <h5>üìù G√≥p √Ω cho M·ª•c 2</h5>
                        <input type="hidden" name="section" value="M·ª•c 2: Ph√¢n T√≠ch ƒê·ªãnh V·ªã Th·ªã Tr∆∞·ªùng">
                        <textarea name="feedback" class="feedback-textarea" placeholder="Xin vui l√≤ng chia s·∫ª g√≥p √Ω c·ªßa b·∫°n cho m·ª•c n√†y..." required></textarea>
                        <button type-="submit" class="feedback-button">G·ª≠i G√≥p √ù</button>
                    </form>
                </div>
                </div>
        </div>

        <button class="accordion">3. Chi·∫øn L∆∞·ª£c Th∆∞∆°ng Hi·ªáu (T√°i ƒë·ªãnh v·ªã)</button>
        <div class="panel">
            <div class="panel-content">
                <p class="text-gray-600 mb-6">ƒê·ªÅ xu·∫•t "Gi·∫•c Ng·ªß B·ªÅn V·ªØng, Gi√° Tr·ªã Th·∫≠t" ` (B·∫£n tr·ª±c quan)` v√† m·ªôt USP c·ª• th·ªÉ h∆°n ` (Ph√¢n t√≠ch chi ti·∫øt)` ƒë·ªÉ gi·∫£i quy·∫øt kh·ªßng ho·∫£ng ni·ªÅm tin.</p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="brand-card rounded-lg p-6 shadow-lg text-center">
                        <h4 class="text-xl font-bold mb-3">ƒê·ªÅ xu·∫•t ` (B·∫£n tr·ª±c quan)`</h4>
                        <p class="text-lg mb-4 italic">"Gi·∫•c Ng·ªß B·ªÅn V·ªØng, Gi√° Tr·ªã Th·∫≠t"</p>
                        <div class="brand-card-inner rounded-lg p-4 mb-4">
                            <h5 class="text-md font-semibold mb-2">Gi√° Tr·ªã C·ªët L√µi</h5>
                            <ul class="list-none space-y-1 text-sm">
                                <li><strong>B·ªÅn B·ªâ:</strong> Ch·∫•t l∆∞·ª£ng v∆∞·ª£t th·ªùi gian.</li>
                                <li><strong>An To√†n:</strong> 100% nguy√™n li·ªáu tinh khi·∫øt.</li>
                                <li><strong>Ch√¢n Th·∫≠t:</strong> Gi√° tr·ªã th·∫≠t, kh√¥ng th·ªïi ph·ªìng.</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-lg p-6 shadow-lg text-center border-4 border-amber-500">
                        <h4 class="text-xl font-bold mb-3" style="color: #003F5C;">ƒê·ªÅ xu·∫•t T√°i ƒë·ªãnh v·ªã ` (Ph√¢n t√≠ch chi ti·∫øt)`</h4>
                        <p class="text-lg mb-4 italic font-bold" style="color: #D45087;">"V·∫†N TH√ÄNH - B·ªÄN B·ªà T·ª™ 1980"</p>
                        <div class="bg-gray-100 rounded-lg p-4 mb-4">
                            <h5 class="text-md font-semibold mb-2" style="color: #003F5C;">Chi·∫øn l∆∞·ª£c K√©p</h5>
                            <ul class="text-sm text-left list-disc ml-4 text-gray-700">
                                <li><strong>Brand Building:</strong> T√°i thi·∫øt Di s·∫£n. K·ªÉ l·∫°i c√¢u chuy·ªán 40+ nƒÉm, thay v√¨ n√≥i v·ªÅ "gi·∫£m gi√°".</li>
                                <li><strong>Performance:</strong> T√°i c·∫•u tr√∫c K√™nh v√† Chuy·ªÉn ƒë·ªïi s·ªë. Ch·∫•m d·ª©t lo·∫°n gi√° v√† s·ªü h·ªØu d·ªØ li·ªáu.</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="mt-10 pt-6 border-t border-gray-200">
                    <h4 class="text-xl font-bold mb-3 text-center" style="color: #003F5C;">
                        <span class="text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600">‚ú®</span>
                        Hat Support: S√°ng T·∫°o Slogan
                    </h4>
                    <p class="text-sm text-gray-600 mb-4 text-center">B·∫•m ƒë·ªÉ AI g·ª£i √Ω c√°c kh·∫©u hi·ªáu m·ªõi d·ª±a tr√™n ƒë·ªãnh v·ªã "B·ªÅn B·ªâ T·ª´ 1980".</p>
                    <div class="bg-white p-6 rounded-lg shadow-lg border border-gray-100">
                        <button class="gemini-button w-full" id="generateSloganButton">
                            ‚ú® T·∫°o 5 Slogan M·ªõi
                        </button>
                        <pre id="sloganResultBox" class="result-box prose"></pre>
                    </div>
                </div>
                <div class="mt-10 pt-6 border-t border-gray-200">
                    <h4 class="text-xl font-bold mb-3 text-center" style="color: #003F5C;">
                        <span class="text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600">‚ú®</span>
                        Hat Support: G·ª£i √ù C√¢u H·ªèi M·ªü R·ªông
                    </h4>
                    <p class="text-sm text-gray-600 mb-4 text-center">B·∫•m ƒë·ªÉ AI g·ª£i √Ω c√°c c√¢u h·ªèi/v·∫•n ƒë·ªÅ c·∫ßn th·∫£o lu·∫≠n th√™m cho m·ª•c n√†y.</p>
                    <div class="bg-white p-6 rounded-lg shadow-lg border border-gray-100">
                        <button class="gemini-button w-full brainstorm-button" data-section-id="muc-3" data-section-content="Chi·∫øn L∆∞·ª£c Th∆∞∆°ng Hi·ªáu: T√°i ƒë·ªãnh v·ªã l√† 'V·∫†N TH√ÄNH - B·ªÄN B·ªà T·ª™ 1980' v√† chi·∫øn l∆∞·ª£c k√©p (Brand Building & Performance).">
                            ‚ú® G·ª£i √ù 3 C√¢u H·ªèi/V·∫•n ƒê·ªÅ Th·∫£o Lu·∫≠n
                        </button>
                        <pre id="brainstormResult-muc-3" class="result-box prose"></pre>
                    </div>
                </div>

                <div class="feedback-form-container">
                    <form class="feedback-form">
                        <h5>üìù G√≥p √Ω cho M·ª•c 3</h5>
                        <input type="hidden" name="section" value="M·ª•c 3: Chi·∫øn L∆∞·ª£c Th∆∞∆°ng Hi·ªáu (T√°i ƒë·ªãnh v·ªã)">
                        <textarea name="feedback" class="feedback-textarea" placeholder="Xin vui l√≤ng chia s·∫ª g√≥p √Ω c·ªßa b·∫°n cho m·ª•c n√†y..." required></textarea>
                        <button type-="submit" class="feedback-button">G·ª≠i G√≥p √ù</button>
                    </form>
                </div>
                </div>
        </div>

        <button class="accordion">4. Chi·∫øn L∆∞·ª£c Marketing S·∫£n Ph·∫©m (Good-Better-Best)</button>
        <div class="panel">
            <div class="panel-content">
                <p class="text-gray-600 mb-8 max-w-3xl mx-auto">ƒê·ªÅ xu·∫•t t√°i c·∫•u tr√∫c danh m·ª•c s·∫£n ph·∫©m ` (Ph√¢n t√≠ch chi ti·∫øt)` theo m√¥ h√¨nh "Good-Better-Best" ƒë·ªÉ ƒë·ªãnh v·ªã gi√° tr·ªã r√µ r√†ng.</p>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 items-start">
                    <div class="md:col-span-1">
                        <h4 style="color: #003F5C;">T·ª∑ Tr·ªçng Danh M·ª•c ` (B·∫£n tr·ª±c quan)`</h4>
                        <div class="chart-container">
                            <canvas id="productMixChart"></canvas>
                        </div>
                    </div>
                    <div class="md:col-span-2">
                        <h4>T√°i c·∫•u tr√∫c Good-Better-Best ` (Ph√¢n t√≠ch chi ti·∫øt)`</h4>
                        <div class="space-y-4">
                            <div class="bg-gray-50 rounded-lg p-4 border border-gray-200 shadow-sm">
                                <h5 class="text-lg font-bold mb-2" style="color: #D45087;">1. GOOD (T·ªët - Ph√¢n kh√∫c Gi√° tr·ªã)</h5>
                                <p class="text-sm text-gray-700 mb-2"><strong>S·∫£n ph·∫©m:</strong> N·ªám B√¥ng √©p (G√≤n), N·ªám Mousse (Foam) c∆° b·∫£n.</p>
                                <p class="text-sm text-gray-700"><strong>Th√¥ng ƒëi·ªáp:</strong> "B·ªÅn b·ªâ t·ªëi ƒëa, chi ph√≠ t·ªëi thi·ªÉu." / "Gi·∫£i ph√°p gi·∫•c ng·ªß kinh t·∫ø."</p>
                                <p class="text-sm text-gray-700"><strong>Chi·∫øn thu·∫≠t:</strong> SEO (t·ª´ kh√≥a "n·ªám gi√° r·∫ª"), Ads (t·∫≠p trung khuy·∫øn m√£i, t√≠nh nƒÉng "g·∫•p 3").</p>
                            </div>
                            <div class="bg-gray-50 rounded-lg p-4 border border-gray-200 shadow-sm">
                                <h5 class="text-lg font-bold mb-2" style="color: #665191;">2. BETTER (T·ªët h∆°n - Ph·ªï th√¥ng/Ch·ªß l·ª±c)</h5>
                                <p class="text-sm text-gray-700 mb-2"><strong>S·∫£n ph·∫©m:</strong> N·ªám L√≤ xo (v√≠ d·ª•: Ruby), N·ªám Cao su thi√™n nhi√™n (v√≠ d·ª•: Standard).</p>
                                <p class="text-sm text-gray-700"><strong>Th√¥ng ƒëi·ªáp:</strong> "C√¢n b·∫±ng ho√†n h·∫£o gi·ªØa N√¢ng ƒë·ª° & √äm √°i."</p>
                                <p class="text-sm text-gray-700"><strong>Chi·∫øn thu·∫≠t:</strong> Video (YouTube/TikTok) so s√°nh tr·ª±c quan, Influencer (Mid-tier) review tr·∫£i nghi·ªám.</p>
                            </div>
                            <div class="bg-gray-50 rounded-lg p-4 border border-gray-200 shadow-sm">
                                <h5 class="text-lg font-bold mb-2" style="color: #003F5C;">3. BEST (T·ªët nh·∫•t - Cao c·∫•p/Di s·∫£n)</h5>
                                <p class="text-sm text-gray-700 mb-2"><strong>S·∫£n ph·∫©m:</strong> N·ªám Cao su thi√™n nhi√™n cao c·∫•p (Unique, Segovia), N·ªám Hybrid.</p>
                                <p class="text-sm text-gray-700"><strong>Th√¥ng ƒëi·ªáp:</strong> "Di s·∫£n 40 nƒÉm cho gi·∫•c ng·ªß tinh hoa."</p>
                                <p class="text-sm text-gray-700"><strong>Chi·∫øn thu·∫≠t:</strong> PR & Storytelling (c√¢u chuy·ªán, quy tr√¨nh s·∫£n xu·∫•t), Video ch·∫•t l∆∞·ª£ng cao (c·∫£m x√∫c), Th·ª≠ nghi·ªám "100 ƒê√™m Ng·ªß Th·ª≠".</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mt-10 pt-6 border-t border-gray-200">
                    <h4 class="text-xl font-bold mb-3 text-center" style="color: #003F5C;">
                        <span class="text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600">‚ú®</span>
                        Hat Support: Vi·∫øt M√¥ T·∫£ S·∫£n Ph·∫©m
                    </h4>
                    <p class="text-sm text-gray-600 mb-4 text-center">Ch·ªçn 1 ph√¢n kh√∫c v√† ƒë·ªÉ AI t·∫°o m√¥ t·∫£ s·∫£n ph·∫©m (chu·∫©n SEO) cho website.</p>
                    <div class="bg-white p-6 rounded-lg shadow-lg border border-gray-100">
                        <div class="flex flex-col sm:flex-row sm:space-x-4">
                            <select id="productTierSelect" class="feedback-input mb-4 sm:mb-0 flex-1">
                                <option value="GOOD">Ph√¢n kh√∫c GOOD (B√¥ng √©p/Foam)</option>
                                <option value="BETTER" selected>Ph√¢n kh√∫c BETTER (L√≤ xo/Cao su Standard)</option>
                                <option value="BEST">Ph√¢n kh√∫c BEST (Cao su cao c·∫•p)</option>
                            </select>
                            <button class="gemini-button w-full sm:w-auto" id="generateProductDescButton">
                                ‚ú® T·∫°o M√¥ T·∫£
                            </button>
                        </div>
                        <pre id="productDescResult" class="result-box prose"></pre>
                    </div>
                </div>
                <div class="mt-10 pt-6 border-t border-gray-200">
                    <h4 class="text-xl font-bold mb-3 text-center" style="color: #003F5C;">
                        <span class="text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600">‚ú®</span>
                        Hat Support: G·ª£i √ù C√¢u H·ªèi M·ªü R·ªông
                    </h4>
                    <p class="text-sm text-gray-600 mb-4 text-center">B·∫•m ƒë·ªÉ AI g·ª£i √Ω c√°c c√¢u h·ªèi/v·∫•n ƒë·ªÅ c·∫ßn th·∫£o lu·∫≠n th√™m cho m·ª•c n√†y.</p>
                    <div class="bg-white p-6 rounded-lg shadow-lg border border-gray-100">
                        <button class="gemini-button w-full brainstorm-button" data-section-id="muc-4" data-section-content="Chi·∫øn L∆∞·ª£c S·∫£n Ph·∫©m: T√°i c·∫•u tr√∫c danh m·ª•c theo m√¥ h√¨nh Good-Better-Best (Gi√° tr·ªã, Ph·ªï th√¥ng, Cao c·∫•p).">
                            ‚ú® G·ª£i √ù 3 C√¢u H·ªèi/V·∫•n ƒê·ªÅ Th·∫£o Lu·∫≠n
                        </button>
                        <pre id="brainstormResult-muc-4" class="result-box prose"></pre>
                    </div>
                </div>

                <div class="feedback-form-container">
                    <form class="feedback-form">
                        <h5>üìù G√≥p √Ω cho M·ª•c 4</h5>
                        <input type="hidden" name="section" value="M·ª•c 4: Chi·∫øn L∆∞·ª£c Marketing S·∫£n Ph·∫©m (Good-Better-Best)">
                        <textarea name="feedback" class="feedback-textarea" placeholder="Xin vui l√≤ng chia s·∫ª g√≥p √Ω c·ªßa b·∫°n cho m·ª•c n√†y..." required></textarea>
                        <button type-="submit" class="feedback-button">G·ª≠i G√≥p √ù</button>
                    </form>
                </div>
                </div>
        </div>

        <button class="accordion">5. Gi·∫£i Ph√°p C·ªët L√µi: K√™nh Ph√¢n Ph·ªëi (MAP, O2O & TMƒêT)</button>
        <div class="panel">
            <div class="panel-content">
                <p class="text-gray-600 mb-8 max-w-3xl mx-auto text-center">ƒê√¢y l√† gi·∫£i ph√°p trung t√¢m ƒë·ªÉ gi·∫£i quy·∫øt "lo·∫°n gi√°". S∆° ƒë·ªì O2O ` (B·∫£n tr·ª±c quan)` v√† chi ti·∫øt v·ªÅ lu·∫≠t ch∆°i ` (Ph√¢n t√≠ch chi ti·∫øt)`.</p>
                
                <h4>Lu·ªìng ƒëi·ªÅu ph·ªëi O2O ` (B·∫£n tr·ª±c quan)`</h4>
                <div class="flex flex-col md:flex-row justify-between items-center flex-wrap px-4 mb-6">
                    <div class="flex flex-col items-center mb-4 md:mb-0"><div class="flow-step">Kh√°ch H√†ng Online<br>(Web, TMƒêT, Affiliate)</div></div>
                    <div class="flow-arrow">&#8595;</div>
                    <div class="flex flex-col items-center mb-4 md:mb-0"><div class="flow-step" style="border-color: #FFA600; color: #FFA600;">H·ªá Th·ªëng V·∫°n Th√†nh<br>(Ghi nh·∫≠n & Ph√¢n b·ªï)</div></div>
                    <div class="flow-arrow">&#8595;</div>
                    <div class="flex flex-col items-center mb-4 md:mb-0"><div class="flow-step">Showroom / ƒê·∫°i L√Ω<br>(G·∫ßn nh·∫•t)</div></div>
                    <div class="flow-arrow">&#8595;</div>
                    <div class="flex flex-col items-center"><div class="flow-step" style="background-color: #003F5C; color: white;">Giao H√†ng & CSKH<br>(Kh√°ch H√†ng H√†i L√≤ng)</div></div>
                </div>

                <h4>Gi·∫£i ph√°p chi ti·∫øt ` (Ph√¢n t√≠ch chi ti·∫øt)`</h4>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <h5>Gi·∫£i ph√°p 1: √Åp d·ª•ng ch√≠nh s√°ch MAP (Gi√° qu·∫£ng c√°o t·ªëi thi·ªÉu)</h5>
                        <ul>
                            <li><strong>H√†nh ƒë·ªông:</strong> Ban h√†nh lu·∫≠t chung c·∫•m qu·∫£ng c√°o ph√° gi√° (v√≠ d·ª•: kh√¥ng qu·∫£ng c√°o th·∫•p h∆°n 15% so v·ªõi gi√° ni√™m y·∫øt).</li>
                            <li><strong>M·ª•c ƒë√≠ch:</strong> L·∫≠p l·∫°i tr·∫≠t t·ª± th·ªã tr∆∞·ªùng, b·∫£o v·ªá ƒë·∫°i l√Ω ch√¢n ch√≠nh.</li>
                            <li><strong>Ch·∫ø t√†i:</strong> Vi ph·∫°m l·∫ßn 1 (C·∫£nh c√°o), L·∫ßn 2 (C·∫Øt chi·∫øt kh·∫•u th√°ng), L·∫ßn 3 (Ng·ª´ng cung c·∫•p h√†ng).</li>
                        </ul>
                        <h5>Gi·∫£i ph√°p 2: X√¢y d·ª±ng h·ªá th·ªëng Affiliate</h5>
                        <ul>
                            <li><strong>H√†nh ƒë·ªông:</strong> X√¢y d·ª±ng "V·∫°n Th√†nh Affiliate Program" (qua AccessTrade, Haravan...).</li>
                            <li><strong>C∆° ch·∫ø:</strong> Thay v√¨ KOC/ƒê·∫°i l√Ω t·ª± ph√° gi√°, h·ªç s·∫Ω nh·∫≠n link affiliate v√† nh·∫≠n hoa h·ªìng chu·∫©n h√≥a t·ª´ V·∫°n Th√†nh.</li>
                        </ul>
                    </div>
                    <div>
                        <h5>Gi·∫£i ph√°p 3: Chi·∫øn l∆∞·ª£c S√†n TMƒêT (Shopee/Lazada)</h5>
                        <ul>
                            <li><strong>H√†nh ƒë·ªông:</strong> M·ªü 1 v√† ch·ªâ 1 "V·∫°n Th√†nh Official Mall" duy nh·∫•t.</li>
                            <li><strong>M·ª•c ti√™u:</strong> L√†m "neo gi√°" chu·∫©n, kh√¥ng tham gia flash-sale h·ªßy di·ªát.</li>
                            <li><strong>H√≤a gi·∫£i:</strong> T√≠ch h·ª£p Affiliate/O2O cho ƒë·∫°i l√Ω. Khuy·∫øn kh√≠ch ƒë·∫°i l√Ω d·∫´n link v·ªÅ Mall ƒë·ªÉ ƒÉn hoa h·ªìng, thay v√¨ t·ª± m·ªü gian h√†ng ph√° gi√°.</li>
                            <li><strong>C√¥ng ngh·ªá:</strong> D√πng n·ªÅn t·∫£ng Omnichannel (Haravan) ƒë·ªÉ ƒëi·ªÅu ph·ªëi ƒë∆°n t·ª´ Mall v·ªÅ kho ƒë·∫°i l√Ω g·∫ßn nh·∫•t.</li>
                        </ul>
                    </div>
                </div>

                <div class="mt-10 pt-6 border-t border-gray-200">
                    <h4 class="text-xl font-bold mb-3 text-center" style="color: #003F5C;">
                        <span class="text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600">‚ú®</span>
                        Hat Support: So·∫°n Th·∫£o Ch√≠nh S√°ch
                    </h4>
                    <p class="text-sm text-gray-600 mb-4 text-center">B·∫•m ƒë·ªÉ AI so·∫°n th·∫£o m·ªôt email th√¥ng b√°o chuy√™n nghi·ªáp v·ªÅ ch√≠nh s√°ch MAP (Gi√° qu·∫£ng c√°o t·ªëi thi·ªÉu) ƒë·ªÉ g·ª≠i cho ƒë·∫°i l√Ω.</p>
                    <div class="bg-white p-6 rounded-lg shadow-lg border border-gray-100">
                        <button class="gemini-button w-full" id="generateMAPEmailButton">
                            ‚ú® So·∫°n Th·∫£o Email Th√¥ng B√°o MAP
                        </button>
                        <pre id="mapEmailResult" class="result-box prose"></pre>
                    </div>
                </div>
                <div class="mt-10 pt-6 border-t border-gray-200">
                    <h4 class="text-xl font-bold mb-3 text-center" style="color: #003F5C;">
                        <span class="text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600">‚ú®</span>
                        Hat Support: G·ª£i √ù C√¢u H·ªèi M·ªü R·ªông
                    </h4>
                    <p class="text-sm text-gray-600 mb-4 text-center">B·∫•m ƒë·ªÉ AI g·ª£i √Ω c√°c c√¢u h·ªèi/v·∫•n ƒë·ªÅ c·∫ßn th·∫£o lu·∫≠n th√™m cho m·ª•c n√†y.</p>
                    <div class="bg-white p-6 rounded-lg shadow-lg border border-gray-100">
                        <button class="gemini-button w-full brainstorm-button" data-section-id="muc-5" data-section-content="Gi·∫£i Ph√°p K√™nh Ph√¢n Ph·ªëi: √Åp d·ª•ng ch√≠nh s√°ch MAP (Gi√° qu·∫£ng c√°o t·ªëi thi·ªÉu), x√¢y d·ª±ng O2O v√† Affiliate, v√† ch·ªâ m·ªü 1 Official Mall.">
                            ‚ú® G·ª£i √ù 3 C√¢u H·ªèi/V·∫•n ƒê·ªÅ Th·∫£o Lu·∫≠n
                        </button>
                        <pre id="brainstormResult-muc-5" class="result-box prose"></pre>
                    </div>
                </div>

                <div class="feedback-form-container">
                    <form class="feedback-form">
                        <h5>üìù G√≥p √Ω cho M·ª•c 5</h5>
                        <input type="hidden" name="section" value="M·ª•c 5: Gi·∫£i Ph√°p K√™nh Ph√¢n Ph·ªëi (MAP, O2O & TMƒêT)">
                        <textarea name="feedback" class="feedback-textarea" placeholder="Xin vui l√≤ng chia s·∫ª g√≥p √Ω c·ªßa b·∫°n cho m·ª•c n√†y..." required></textarea>
                        <button type-="submit" class="feedback-button">G·ª≠i G√≥p √ù</button>
                    </form>
                </div>
                </div>
        </div>

        <button class="accordion">6. K√™nh Truy·ªÅn Th√¥ng & T·ªëi ∆Øu H√≥a (Digital Footprint)</button>
        <div class="panel">
            <div class="panel-content">
                <p class="text-gray-600 mb-6">Chuy·ªÉn d·ªãch ng√¢n s√°ch t·ª´ qu·∫£ng c√°o ng·∫Øn h·∫°n sang x√¢y d·ª±ng t√†i s·∫£n th∆∞∆°ng hi·ªáu d√†i h·∫°n (SEO, AEO, VEO).</p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <h4 style="color: #003F5C;">Ph√¢n B·ªï Ngu·ªìn L·ª±c ` (B·∫£n tr·ª±c quan)`</h4>
                        <div class="chart-container">
                            <canvas id="channelStrategyChart"></canvas>
                        </div>
                    </div>
                    <div>
                        <h4>Chi·∫øn l∆∞·ª£c T·ªëi ∆∞u h√≥a To√†n di·ªán ` (Ph√¢n t√≠ch chi ti·∫øt)`</h4>
                        <ul>
                            <li><strong>Kh·∫Øc ph·ª•c Kh·ªßng ho·∫£ng (Tu·∫ßn 1):</strong> L·∫•y l·∫°i Fanpage ch√≠nh th·ª©c, g·ª≠i x√°c th·ª±c "tick xanh". S·ª≠a l·ªói chatbot tr√™n website.</li>
                            <li><strong>SEO & SEO Local:</strong> T·∫°o v√† x√°c th·ª±c Google My Business (GMB) cho T·∫§T C·∫¢ 1000+ ƒë·∫°i l√Ω. Khi kh√°ch t√¨m "n·ªám V·∫°n Th√†nh g·∫ßn ƒë√¢y", GMB c·ªßa ƒë·∫°i l√Ω s·∫Ω xu·∫•t hi·ªán.</li>
                            <li><strong>AEO (Answer Engine Optimization):</strong> X√¢y d·ª±ng c·ª•m n·ªôi dung H·ªèi-ƒê√°p (FAQ) chuy√™n s√¢u ƒë·ªÉ ƒë√≥n ƒë·∫ßu AI (Gemini, ChatGPT) tr·∫£ l·ªùi c√°c c√¢u h·ªèi nh∆∞ "So s√°nh n·ªám V·∫°n Th√†nh v√† Kymdan?".</li>
                            <li><strong>VEO (Video Engine Optimization):</strong>
                                <ul>
                                    <li><strong>TikTok:</strong> D√πng cho n·ªôi dung tr·∫£i nghi·ªám, ASMR, test ƒë·ªô b·ªÅn.</li>
                                    <li><strong>YouTube:</strong> D√πng cho n·ªôi dung gi√°o d·ª•c (video d√†i ph√¢n bi·ªát 4 lo·∫°i n·ªám) v√† k·ªÉ chuy·ªán di s·∫£n.</li>
                                </ul>
                            </li>
                            <li><strong>Owned Community:</strong> Th√†nh l·∫≠p Facebook Group (v√≠ d·ª•: "H·ªôi Y√™u Gi·∫•c Ng·ªß Vi·ªát") ƒë·ªÉ thu th·∫≠p Zero-Party Data (qua kh·∫£o s√°t) v√† l·∫Øng nghe kh√°ch h√†ng.</li>
                        </ul>
                    </div>
                </div>

                <div class="mt-10 pt-6 border-t border-gray-200">
                    <h4 class="text-xl font-bold mb-3 text-center" style="color: #003F5C;">
                        <span class="text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600">‚ú®</span>
                        M√¥ Ph·ªèng AEO & S√°ng T·∫°o N·ªôi Dung
                    </h4>
                    
                    <div class="bg-white p-6 rounded-lg shadow-lg border border-gray-100 mb-6">
                        <label for="aeoQueryInput" class="block text-md font-semibold mb-2" style="color: #665191;">1. M√¥ Ph·ªèng AEO (Answer Engine)</label>
                        <p class="text-sm text-gray-600 mb-4">ƒê·∫∑t c√¢u h·ªèi so s√°nh (v√≠ d·ª•: "so s√°nh n·ªám V·∫°n Th√†nh v√† Kymdan") ƒë·ªÉ xem AI tr·∫£ l·ªùi th·∫ø n√†o.</p>
                        <div class="flex flex-col sm:flex-row sm:space-x-4">
                            <input type="text" id="aeoQueryInput" class="feedback-input mb-4 sm:mb-0 flex-1" placeholder="So s√°nh V·∫°n Th√†nh v√† Li√™n √Å...">
                            <button class="gemini-button w-full sm:w-auto" id="aeoQueryButton">
                                ‚ú® H·ªèi AI
                            </button>
                        </div>
                        <pre id="aeoQueryResult" class="result-box prose"></pre>
                    </div>

                    <div class="bg-white p-6 rounded-lg shadow-lg border border-gray-100">
                        <label for="contentSelect" class="block text-md font-semibold mb-2" style="color: #665191;">2. Hat Support: S√°ng T·∫°o N·ªôi Dung (VEO & Community)</label>
                        <p class="text-sm text-gray-600 mb-4">Ch·ªçn m·ªôt lo·∫°i n·ªôi dung v√† ƒë·ªÉ AI g·ª£i √Ω √Ω t∆∞·ªüng.</p>
                        <div class="flex flex-col sm:flex-row sm:space-x-4">
                            <select id="contentSelect" class="feedback-input mb-4 sm:mb-0 flex-1">
                                <option value="tiktok">√ù t∆∞·ªüng K·ªãch b·∫£n TikTok (VEO)</option>
                                <option value="facebook">B√†i ƒëƒÉng Facebook Group (Community)</option>
                            </select>
                            <button class="gemini-button w-full sm:w-auto" id="generateContentButton">
                                ‚ú® T·∫°o √ù T∆∞·ªüng
                            </button>
                        </div>
                        <pre id="contentResult" class="result-box prose"></pre>
                    </div>
                </div>
                <div class="mt-10 pt-6 border-t border-gray-200">
                    <h4 class="text-xl font-bold mb-3 text-center" style="color: #003F5C;">
                        <span class="text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600">‚ú®</span>
                        Hat Support: G·ª£i √ù C√¢u H·ªèi M·ªü R·ªông
                    </h4>
                    <p class="text-sm text-gray-600 mb-4 text-center">B·∫•m ƒë·ªÉ AI g·ª£i √Ω c√°c c√¢u h·ªèi/v·∫•n ƒë·ªÅ c·∫ßn th·∫£o lu·∫≠n th√™m cho m·ª•c n√†y.</p>
                    <div class="bg-white p-6 rounded-lg shadow-lg border border-gray-100">
                        <button class="gemini-button w-full brainstorm-button" data-section-id="muc-6" data-section-content="K√™nh Truy·ªÅn Th√¥ng & T·ªëi ∆Øu H√≥a: Chuy·ªÉn d·ªãch ng√¢n s√°ch sang SEO Local (GMB), AEO (Answer Engine), VEO (Video), v√† Owned Community.">
                            ‚ú® G·ª£i √ù 3 C√¢u H·ªèi/V·∫•n ƒê·ªÅ Th·∫£o Lu·∫≠n
                        </button>
                        <pre id="brainstormResult-muc-6" class="result-box prose"></pre>
                    </div>
                </div>

                <div class="feedback-form-container">
                    <form class="feedback-form">
                        <h5>üìù G√≥p √Ω cho M·ª•c 6</h5>
                        <input type="hidden" name="section" value="M·ª•c 6: K√™nh Truy·ªÅn Th√¥ng & T·ªëi ∆Øu H√≥a">
                        <textarea name="feedback" class="feedback-textarea" placeholder="Xin vui l√≤ng chia s·∫ª g√≥p √Ω c·ªßa b·∫°n cho m·ª•c n√†y..." required></textarea>
                        <button type-="submit" class="feedback-button">G·ª≠i G√≥p √ù</button>
                    </form>
                </div>
                </div>
        </div>

        <button class="accordion">7. C∆° H·ªôi TƒÉng Tr∆∞·ªüng M·ªõi (One-Stop-Shop)</button>
        <div class="panel">
            <div class="panel-content">
                <p class="text-gray-700 mb-6">T·∫≠n d·ª•ng kh√¥ng gian tr·ªëng (t·∫ßng 2, 3, 4) t·∫°i 44 showroom ƒë·ªÉ ph√°t tri·ªÉn m·∫£ng kinh doanh m·ªõi, t·∫°o ra h·ªá sinh th√°i b·ªï tr·ª£.</p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 items-center">
                    <div class="border-2 rounded-lg p-6 text-center" style="border-color: #FFA600; border-style: dashed; background-color: #fef9e7;">
                        <div class="text-6xl mb-4">&#128719;</div>
                        <h4 class="text-2xl font-bold mb-3" style="color: #003F5C;">M√¥ H√¨nh Showroom T√≠ch H·ª£p ` (B·∫£n tr·ª±c quan)`</h4>
                        <p class="text-lg text-gray-700">Ph√°t tri·ªÉn c√¥ng ty con chuy√™n v·ªÅ <strong>Thi·∫øt K·∫ø & Thi C√¥ng N·ªôi Th·∫•t Ph√≤ng Ng·ªß</strong>, t·∫≠n d·ª•ng kh√¥ng gian showroom l√†m n∆°i tr∆∞ng b√†y.</p>
                        <p class="text-base font-semibold mt-4" style="color: #665191;">(T·∫°o ph·ªÖu b√°n ch√©o: N·ªám + N·ªôi Th·∫•t)</p>
                    </div>
                    <div>
                        <h4>L·ªô tr√¨nh tri·ªÉn khai ` (Ph√¢n t√≠ch chi ti·∫øt)`</h4>
                        <ul>
                            <li><strong>Giai ƒëo·∫°n 1 (Cross-sell):</strong> B·ªï sung ngay c√°c s·∫£n ph·∫©m li√™n quan tr·ª±c ti·∫øp (gi∆∞·ªùng, t·ªß ƒë·∫ßu gi∆∞·ªùng, chƒÉn ga g·ªëi) v√†o danh m·ª•c.</li>
                            <li><strong>Giai ƒëo·∫°n 2 (Co-location):</strong> T·∫≠n d·ª•ng t·∫ßng tr·ªëng ƒë·ªÉ m·ªùi c√°c th∆∞∆°ng hi·ªáu n·ªôi th·∫•t kh√°c (ƒë√®n, r√®m c·ª≠a) v√†o c√πng tr∆∞ng b√†y, chia s·∫ª l·ª£i nhu·∫≠n.</li>
                            <li><strong>Giai ƒëo·∫°n 3 (Total Solution):</strong> Ph√°t tri·ªÉn c√°c g√≥i "combo ph√≤ng ng·ªß" (G√≥i C∆∞·ªõi, G√≥i Chung c∆∞) bao g·ªìm (n·ªám + gi∆∞·ªùng + t·ªß) v·ªõi gi√° ∆∞u ƒë√£i.</li>
                        </ul>
                    </div>
                </div>

                <div class="mt-10 pt-6 border-t border-gray-200">
                    <h4 class="text-xl font-bold mb-3 text-center" style="color: #003F5C;">
                        <span class="text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600">‚ú®</span>
                        Hat Support: Ph√°t Tri·ªÉn G√≥i Combo
                    </h4>
                    <p class="text-sm text-gray-600 mb-4 text-center">Ch·ªçn m·ªôt lo·∫°i combo v√† ƒë·ªÉ AI ph√°c th·∫£o chi ti·∫øt (s·∫£n ph·∫©m, th√¥ng ƒëi·ªáp) cho g√≥i ƒë√≥.</p>
                    <div class="bg-white p-6 rounded-lg shadow-lg border border-gray-100">
                        <div class="flex flex-col sm:flex-row sm:space-x-4">
                            <select id="comboTypeSelect" class="feedback-input mb-4 sm:mb-0 flex-1">
                                <option value="G√≥i C∆∞·ªõi (L√£ng m·∫°n & B·ªÅn b·ªâ)">G√≥i C∆∞·ªõi (L√£ng m·∫°n & B·ªÅn b·ªâ)</option>
                                <option value="G√≥i Chung c∆∞ (T·ªëi ∆∞u kh√¥ng gian)">G√≥i Chung c∆∞ (T·ªëi ∆∞u kh√¥ng gian)</option>
                                <option value="G√≥i S·ª©c kh·ªèe (Cao c·∫•p & N√¢ng ƒë·ª°)">G√≥i S·ª©c kh·ªèe (Cao c·∫•p & N√¢ng ƒë·ª°)</option>
                            </select>
                            <button class="gemini-button w-full sm:w-auto" id="generateComboButton">
                                ‚ú® L√™n √ù T∆∞·ªüng
                            </button>
                        </div>
                        <pre id="comboResultBox" class="result-box prose"></pre>
                    </div>
                </div>
                <div class="mt-10 pt-6 border-t border-gray-200">
                    <h4 class="text-xl font-bold mb-3 text-center" style="color: #003F5C;">
                        <span class="text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600">‚ú®</span>
                        Hat Support: G·ª£i √ù C√¢u H·ªèi M·ªü R·ªông
                    </h4>
                    <p class="text-sm text-gray-600 mb-4 text-center">B·∫•m ƒë·ªÉ AI g·ª£i √Ω c√°c c√¢u h·ªèi/v·∫•n ƒë·ªÅ c·∫ßn th·∫£o lu·∫≠n th√™m cho m·ª•c n√†y.</p>
                    <div class="bg-white p-6 rounded-lg shadow-lg border border-gray-100">
                        <button class="gemini-button w-full brainstorm-button" data-section-id="muc-7" data-section-content="C∆° H·ªôi TƒÉng Tr∆∞·ªüng M·ªõi: T·∫≠n d·ª•ng 44 showroom ƒë·ªÉ l√†m 'One-Stop-Shop' (N·ªôi th·∫•t ph√≤ng ng·ªß, G√≥i Combo).">
                            ‚ú® G·ª£i √ù 3 C√¢u H·ªèi/V·∫•n ƒê·ªÅ Th·∫£o Lu·∫≠n
                        </button>
                        <pre id="brainstormResult-muc-7" class="result-box prose"></pre>
                    </div>
                </div>

                <div class="feedback-form-container">
                    <form class="feedback-form">
                        <h5>üìù G√≥p √Ω cho M·ª•c 7</h5>
                        <input type="hidden" name="section" value="M·ª•c 7: C∆° H·ªôi TƒÉng Tr∆∞·ªüng M·ªõi (One-Stop-Shop)">
                        <textarea name="feedback" class="feedback-textarea" placeholder="Xin vui l√≤ng chia s·∫ª g√≥p √Ω c·ªßa b·∫°n cho m·ª•c n√†y..." required></textarea>
                        <button type-="submit" class="feedback-button">G·ª≠i G√≥p √ù</button>
                    </form>
                </div>
                </div>
        </div>

        <button class="accordion">8. L·ªô Tr√¨nh Th·ª±c Thi & KPIs (Chi ti·∫øt)</button>
        <div class="panel">
            <div class="panel-content">
                <p class="text-gray-600 mb-6">Ph·∫ßn n√†y ƒë∆∞·ª£c b·ªï sung ho√†n to√†n t·ª´ ` (Ph√¢n t√≠ch chi ti·∫øt)` ƒë·ªÉ cung c·∫•p m·ªôt k·∫ø ho·∫°ch h√†nh ƒë·ªông v√† ma tr·∫≠n ƒëo l∆∞·ªùng r√µ r√†ng.</p>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <h4>K·∫ø ho·∫°ch 3 th√°ng ("C·∫ßm m√°u & X√¢y m√≥ng")</h4>
                        <ul>
                            <li><strong>Tu·∫ßn 1-4:</strong> Ban h√†nh ch√≠nh s√°ch MAP ƒë·∫øn 1000 ƒë·∫°i l√Ω. L·∫•y l·∫°i Fanpage, xin "tick xanh", s·ª≠a chatbot.</li>
                            <li><strong>Th√°ng 2:</strong> Kh·ªüi ƒë·ªông d·ª± √°n GMB (Google My Business) cho 100 ƒë·∫°i l√Ω ch·ªß l·ª±c. T·ªëi ∆∞u l·∫°i website v·ªõi c√¢u chuy·ªán di s·∫£n.</li>
                            <li><strong>Th√°ng 3:</strong> Ra m·∫Øt K√™nh TikTok v√† Facebook Group. Tri·ªÉn khai n·ªÅn t·∫£ng Affiliate. Ra m·∫Øt Official Mall (Giai ƒëo·∫°n 1).</li>
                        </ul>
                        <br>
                        <h4>K·∫ø ho·∫°ch 1 nƒÉm ("TƒÉng tr∆∞·ªüng & Chuy·ªÉn ƒë·ªïi")</h4>
                        <ul>
                            <li><strong>Qu√Ω 2:</strong> Ho√†n th√†nh 80% GMB cho h·ªá th·ªëng. V·∫≠n h√†nh chi·∫øn l∆∞·ª£c GBB (Good-Better-Best).</li>
                            <li><strong>Qu√Ω 3:</strong> Th√≠ ƒëi·ªÉm m√¥ h√¨nh "One-Stop-Shop" t·∫°i 5 showroom l·ªõn. Ra m·∫Øt chi·∫øn d·ªãch Brand Storytelling l·ªõn.</li>
                            <li><strong>Qu√Ω 4:</strong> Facebook Group ƒë·∫°t 50.000 th√†nh vi√™n. ƒê√°nh gi√° hi·ªáu qu·∫£ MAP v√† O2O.</li>
                        </ul>
                    </div>
                    <div>
                        <h4>KPIs ƒêo l∆∞·ªùng (T√≥m t·∫Øt)</h4>
                        <ul>
                            <li><strong>T·ª∑ l·ªá vi ph·∫°m MAP:</strong> Gi·∫£m > 90%.</li>
                            <li><strong>S·ªë l∆∞·ª£ng leads O2O:</strong> TƒÉng (ƒëo l∆∞·ªùng s·ªë leads t·ª´ web chuy·ªÉn v·ªÅ ƒë·∫°i l√Ω).</li>
                            <li><strong>Doanh thu Affiliate:</strong> TƒÉng.</li>
                            <li><strong>Ch·ªâ s·ªë c·∫£m x√∫c (Brand Sentiment):</strong> TƒÉng.</li>
                            <li><strong>AOV (Gi√° tr·ªã ƒë∆°n h√†ng trung b√¨nh):</strong> TƒÉng (ƒë·∫∑c bi·ªát t·∫°i showroom th√≠ ƒëi·ªÉm).</li>
                            <li><strong>Th·ª© h·∫°ng GMB:</strong> 100 ƒë·∫°i l√Ω top ƒë·∫°t th·ª© h·∫°ng cao.</li>
                        </ul>
                    </div>
                </div>
                
                <h4>Ma tr·∫≠n Marketing T·ªïng th·ªÉ (Master Marketing Matrix)</h4>
                <div class="overflow-x-auto">
                    <table>
                        <thead>
                            <tr>
                                <th>M·ª•c ti√™u chi·∫øn l∆∞·ª£c</th>
                                <th>K√™nh ch√≠nh</th>
                                <th>Chi·∫øn thu·∫≠t</th>
                                <th>KPI ƒëo l∆∞·ªùng</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1. Ch·∫•m d·ª©t lo·∫°n gi√°</td>
                                <td>1000 ƒë·∫°i l√Ω</td>
                                <td>√Åp d·ª•ng ch√≠nh s√°ch MAP</td>
                                <td>T·ª∑ l·ªá vi ph·∫°m MAP (gi·∫£m >90%)</td>
                            </tr>
                            <tr>
                                <td>2. H√≤a gi·∫£i xung ƒë·ªôt k√™nh</td>
                                <td>Website, Google Maps</td>
                                <td>Tri·ªÉn khai O2O & SEO Local</td>
                                <td>S·ªë leads O2O chuy·ªÉn v·ªÅ ƒë·∫°i l√Ω</td>
                            </tr>
                            <tr>
                                <td>3. Chu·∫©n h√≥a hoa h·ªìng</td>
                                <td>KOC/KOL</td>
                                <td>X√¢y d·ª±ng h·ªá th·ªëng Affiliate</td>
                                <td>Doanh thu (GMV) t·ª´ Affiliate</td>
                            </tr>
                            <tr>
                                <td>4. L·∫•y l·∫°i ni·ªÅm tin</td>
                                <td>Social, PR</td>
                                <td>Kh·∫Øc ph·ª•c t√†i s·∫£n s·ªë, Brand Storytelling</td>
                                <td>Ch·ªâ s·ªë c·∫£m x√∫c (Sentiment)</td>
                            </tr>
                            <tr>
                                <td>5. S·ªü h·ªØu d·ªØ li·ªáu</td>
                                <td>Facebook Group</td>
                                <td>X√¢y d·ª±ng "Owned Community"</td>
                                <td>S·ªë l∆∞·ª£ng data (t·ª´ kh·∫£o s√°t)</td>
                            </tr>
                            <tr>
                                <td>6. TƒÉng AOV</td>
                                <td>Showroom</td>
                                <td>Th√≠ ƒëi·ªÉm "One-Stop-Shop"</td>
                                <td>T·ª∑ l·ªá b√°n ch√©o (n·ªám + gi∆∞·ªùng)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="mt-10 pt-6 border-t border-gray-200">
                    <h4 class="text-xl font-bold mb-3 text-center" style="color: #003F5C;">
                        <span class="text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600">‚ú®</span>
                        Hat Support: B√°o C√°o KPI
                    </h4>
                    <p class="text-sm text-gray-600 mb-4 text-center">B·∫•m ƒë·ªÉ AI ph√°c th·∫£o m·ªôt email b√°o c√°o ti·∫øn ƒë·ªô (d·ª±a tr√™n KPIs) ƒë·ªÉ g·ª≠i cho ban l√£nh ƒë·∫°o.</p>
                    <div class="bg-white p-6 rounded-lg shadow-lg border border-gray-100">
                        <button class="gemini-button w-full" id="generateKPIReportButton">
                            ‚ú® So·∫°n Th·∫£o Email B√°o C√°o Ti·∫øn ƒê·ªô
                        </button>
                        <pre id="kpiReportResult" class="result-box prose"></pre>
                    </div>
                </div>
                <div class="mt-10 pt-6 border-t border-gray-200">
                    <h4 class="text-xl font-bold mb-3 text-center" style="color: #003F5C;">
                        <span class="text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600">‚ú®</span>
                        Hat Support: G·ª£i √ù C√¢u H·ªèi M·ªü R·ªông
                    </h4>
                    <p class="text-sm text-gray-600 mb-4 text-center">B·∫•m ƒë·ªÉ AI g·ª£i √Ω c√°c c√¢u h·ªèi/v·∫•n ƒë·ªÅ c·∫ßn th·∫£o lu·∫≠n th√™m cho m·ª•c n√†y.</p>
                    <div class="bg-white p-6 rounded-lg shadow-lg border border-gray-100">
                        <button class="gemini-button w-full brainstorm-button" data-section-id="muc-8" data-section-content="L·ªô Tr√¨nh Th·ª±c Thi & KPIs: K·∫ø ho·∫°ch 3 th√°ng 'C·∫ßm m√°u & X√¢y m√≥ng', v√† KPIs (Gi·∫£m vi ph·∫°m MAP, TƒÉng leads O2O, TƒÉng AOV).">
                            ‚ú® G·ª£i √ù 3 C√¢u H·ªèi/V·∫•n ƒê·ªÅ Th·∫£o Lu·∫≠n
                        </button>
                        <pre id="brainstormResult-muc-8" class="result-box prose"></pre>
                    </div>
                </div>

                <div class="feedback-form-container">
                    <form class="feedback-form">
                        <h5>üìù G√≥p √Ω cho M·ª•c 8</h5>
                        <input type="hidden" name="section" value="M·ª•c 8: L·ªô Tr√¨nh Th·ª±c Thi & KPIs">
                        <textarea name="feedback" class="feedback-textarea" placeholder="Xin vui l√≤ng chia s·∫ª g√≥p √Ω c·ªßa b·∫°n cho m·ª•c n√†y..." required></textarea>
                        <button type-="submit" class="feedback-button">G·ª≠i G√≥p √ù</button>
                    </form>
                </div>
                </div>
        </div>

        <section class="mt-12 p-6 bg-white rounded-lg shadow-lg border-t-4" style="border-color: #665191;">
            <h2 class="text-3xl font-bold mb-4 text-center" style="color: #665191;">9. ƒê√≥ng G√≥p √ù Ki·∫øn Chung</h2>
            <p class="text-center text-gray-600 mb-6">B·∫°n c√≥ b·∫•t k·ª≥ g√≥p √Ω n√†o cho to√†n b·ªô k·∫ø ho·∫°ch ho·∫∑c c√°c v·∫•n ƒë·ªÅ kh√°c kh√¥ng ƒë∆∞·ª£c ƒë·ªÅ c·∫≠p? Xin vui l√≤ng chia s·∫ª t·∫°i ƒë√¢y.</p>
            <div class="feedback-form-container" style="border-top: none; background-color: transparent; padding: 0;">
                <form class="feedback-form">
                    <input type="hidden" name="section" value="ƒê√≥ng G√≥p Chung">
                    <textarea name="feedback" class="feedback-textarea" placeholder="Xin vui l√≤ng chia s·∫ª g√≥p √Ω chung c·ªßa b·∫°n..." required style="min-height: 150px;"></textarea>
                    <button type-submit" class="feedback-button w-full sm:w-auto" style="background-color: #665191; color: white;">G·ª≠i G√≥p √ù Chung</button>
                </form>
            </div>
        </section>
        </main>
    
    <footer class="text-center p-6 mt-8 text-sm text-gray-500 border-t border-gray-200">
        B√°o c√°o Chi·∫øn l∆∞·ª£c Marketing - N·ªám V·∫°n Th√†nh (B·∫£n g·ªôp t∆∞∆°ng t√°c).
    </footer>

    <div id="loadingModal" class="modal-overlay">
        <div class="modal-content">
            <div id="modalContent">
                <div class="loader"></div>
                <div class="modal-message">ƒêang x·ª≠ l√Ω y√™u c·∫ßu...</div>
            </div>
            <button id="modalCloseButton" class="modal-close-btn" style="display: none;">ƒê√≥ng</button>
        </div>
    </div>
    <div id="chatFab" class="chat-fab">
        <span>&#129302;</span> </div>
    <div id="chatWindow" class="chat-window">
        <div class="chat-header">
            <span>Hat AI</span>
            <button id="chatClose" class="chat-close">&times;</button>
        </div>
        <div class="chat-messages" id="chatMessages">
            <div class="chat-message model">D·∫°, Hat AI xin ch√†o th√¢n ch·ªß. Th√¢n ch·ªß c·∫ßn t√¥i h·ªó tr·ª£ t∆∞ v·∫•n g√¨ v·ªÅ k·∫ø ho·∫°ch n√†y ·∫°?</div>
        </div>
        <div class="chat-input-area">
            <input type="text" id="chatInput" class="chat-input" placeholder="H·ªèi t√¥i b·∫•t c·ª© ƒëi·ªÅu g√¨..."><br>
            <button id="chatMic" class="chat-mic" title="Nh·∫•n ƒë·ªÉ n√≥i">&#127908;</button> <button id="chatSend" class="chat-send">&#10148;</button> 
        </div>
    </div>
    
<script type="module">
        // --- C√ÅC BI·∫æN TO√ÄN C·ª§C ---
        
        // ===== URL APPS SCRIPT M·ªöI C·ª¶A B·∫†N ƒê√É ƒê∆Ø·ª¢C D√ÅN V√ÄO ƒê√ÇY =====
        const GOOGLE_SHEET_WEB_APP_URL = "https://script.google.com/macros/s/AKfycbyc9NwDoPQ7q1RbKFoC2pZaSA3G6xlHPt2lWakkc5JSHFY1sY6XBhAr5GuouanFovE_/exec";
        
        // Bi·∫øn to√†n c·ª•c cho gi·ªçng n√≥i
        let recognition = null;  // Gi·ªØ b·ªô nh·∫≠n di·ªán gi·ªçng n√≥i (Tai)
        let synthesizer = window.speechSynthesis; // Gi·ªØ b·ªô ƒë·ªçc (Loa)

        // --- H√ÄM TI·ªÜN √çCH ---

        /**
         * Hi·ªÉn th·ªã modal th√¥ng b√°o (loading ho·∫∑c l·ªói)
         */
        const showModal = (message, isLoading = false) => {
            const loadingModal = document.getElementById('loadingModal');
            const modalContent = document.getElementById('modalContent');
            const modalCloseButton = document.getElementById('modalCloseButton');

            if (!loadingModal || !modalContent || !modalCloseButton) return; // B·∫£o v·ªá

            loadingModal.classList.add('visible');
            if (isLoading) {
                modalContent.innerHTML = `<div class="loader"></div><div class="modal-message">${message}</div>`;
                modalCloseButton.style.display = 'none';
            } else {
                modalContent.innerHTML = `<div class="modal-message" style="color: ${message.startsWith('L·ªói') ? '#D45087' : '#003F5C'};">${message}</div>`;
                modalCloseButton.style.display = 'block';
            }
        };

        /**
         * ƒê√≥ng modal
         */
        const closeModal = () => {
            const loadingModal = document.getElementById('loadingModal');
            if (loadingModal) loadingModal.classList.remove('visible');
        };

        /**
         * === H√ÄM G·ªåI AI (CHO C√ÅC N√öT TR√äN TRANG) ===
         * G·ªçi Apps Script (Groq), ch·ªâ nh·∫≠n v·ªÅ TEXT
         */
        const callGeminiAPI = async (systemPrompt, userPrompt, resultElement) => {
            showModal('AI ƒëang suy nghƒ©...', true);
            document.querySelectorAll('.gemini-button').forEach(btn => btn.disabled = true);
            
            const formData = new FormData();
            formData.append('action', 'callGemini'); // G·ªçi action ch·ªâ-text
            formData.append('systemPrompt', systemPrompt);
            formData.append('userPrompt', userPrompt);

            try {
                const response = await fetch(GOOGLE_SHEET_WEB_APP_URL, {
                    method: 'POST',
                    body: formData
                });
                if (!response.ok) throw new Error(`L·ªói m√°y ch·ªß Apps Script: ${response.status}`);
                const result = await response.json();
                if (result.status === 'success') {
                    resultElement.innerHTML = result.text;
                    showModal('ƒê√£ nh·∫≠n ƒë∆∞·ª£c ph·∫£n h·ªìi!', false);
                } else {
                    throw new Error(result.message);
                }
            } catch (error) {
                console.error('L·ªói g·ªçi Apps Script (callGeminiAPI):', error);
                resultElement.textContent = 'ƒê√£ x·∫£y ra l·ªói khi g·ªçi AI. Vui l√≤ng th·ª≠ l·∫°i.';
                showModal(`L·ªói: ${error.message}`, false);
            } finally {
                document.querySelectorAll('.gemini-button').forEach(btn => btn.disabled = false);
            }
        };

        /**
         * === H√ÄM G·ª¨I G√ìP √ù ===
         * G·ªçi Apps Script, action 'feedback'
         */
        const handleFeedbackSubmit = async (event) => {
            event.preventDefault(); 
            const form = event.target;
            const button = form.querySelector('.feedback-button');
            
            button.disabled = true;
            showModal('ƒêang g·ª≠i g√≥p √Ω...', true);

            try {
                const formData = new FormData(form);
                formData.append('action', 'feedback'); 

                const response = await fetch(GOOGLE_SHEET_WEB_APP_URL, {
                    method: 'POST',
                    body: formData
                });
                if (!response.ok) throw new Error('Ph·∫£n h·ªìi t·ª´ m√°y ch·ªß kh√¥ng h·ª£p l·ªá.');
                const result = await response.json(); 
                if (result.status === 'success') {
                    showModal('C·∫£m ∆°n b·∫°n ƒë√£ g√≥p √Ω! G√≥p √Ω c·ªßa b·∫°n ƒë√£ ƒë∆∞·ª£c ghi nh·∫≠n.', false);
                    form.reset(); 
                } else {
                    throw new Error(result.message || 'L·ªói kh√¥ng x√°c ƒë·ªãnh t·ª´ Apps Script.');
                }
            } catch (error) {
                console.error('L·ªói g·ª≠i g√≥p √Ω:', error);
                showModal(`L·ªói: ${error.message}. Kh√¥ng th·ªÉ g·ª≠i g√≥p √Ω. Xin vui l√≤ng th·ª≠ l·∫°i.`, false);
            } finally {
                button.disabled = false;
            }
        };

        // --- H√ÄM KH·ªûI T·∫†O CH√çNH ---

        const initializeUI = () => {
            console.log("B·∫Øt ƒë·∫ßu kh·ªüi t·∫°o UI...");

            // (L·∫•y c√°c ph·∫ßn t·ª≠ UI)
            const modalCloseButton = document.getElementById('modalCloseButton');
            const acc = document.getElementsByClassName("accordion");
            const aeoQueryInput = document.getElementById('aeoQueryInput');
            const aeoQueryButton = document.getElementById('aeoQueryButton');
            const aeoQueryResult = document.getElementById('aeoQueryResult');
            const contentSelect = document.getElementById('contentSelect');
            const generateContentButton = document.getElementById('generateContentButton');
            const contentResult = document.getElementById('contentResult');
            const comboTypeSelect = document.getElementById('comboTypeSelect');
            const generateComboButton = document.getElementById('generateComboButton');
            const comboResultBox = document.getElementById('comboResultBox');
            const generateSloganButton = document.getElementById('generateSloganButton');
            const sloganResultBox = document.getElementById('sloganResultBox');
            const generateKPIReportButton = document.getElementById('generateKPIReportButton');
            const kpiReportResultBox = document.getElementById('kpiReportResult');
            const generateProductDescButton = document.getElementById('generateProductDescButton');
            const productDescResult = document.getElementById('productDescResult');
            const generateMAPEmailButton = document.getElementById('generateMAPEmailButton');
            const mapEmailResult = document.getElementById('mapEmailResult');
            
            // --- L·∫•y c√°c ph·∫ßn t·ª≠ UI (Chatbot) ---
            const chatFab = document.getElementById('chatFab');
            const chatWindow = document.getElementById('chatWindow');
            const chatClose = document.getElementById('chatClose');
            const chatInput = document.getElementById('chatInput');
            const chatSend = document.getElementById('chatSend');
            
            // (N√öT M·ªöI) L·∫•y n√∫t micro
            const chatMicButton = document.getElementById('chatMic');

            // 1. Kh·ªüi t·∫°o Modal
            if (modalCloseButton) {
                modalCloseButton.addEventListener('click', closeModal);
            }

            // 2. Kh·ªüi t·∫°o Accordion
            try {
                for (let i = 0; i< acc.length; i++) {
                    acc[i].addEventListener("click", function() {
                        this.classList.toggle("active");
                        const panel = this.nextElementSibling;
                        if (panel.style.maxHeight) {
                            panel.style.maxHeight = null;
                        } else {
                            panel.style.maxHeight = panel.scrollHeight + "px";
                        }
                    });
                }
            } catch (e) { console.error("L·ªói kh·ªüi t·∫°o Accordion:", e); }

            // 3. Kh·ªüi t·∫°o Bi·ªÉu ƒë·ªì (Code kh√¥ng ƒë·ªïi)
            try {
                const positioningCtx = document.getElementById('positioningChart');
                if (positioningCtx) {
                    new Chart(positioningCtx, {
                        type: 'bubble',
                        data: {
                            datasets: [
                                { label: 'N·ªám V·∫°n Th√†nh', data: [{ x: 5, y: 7, r: 15 }], backgroundColor: '#003F5C' },
                                { label: 'Kymdan', data: [{ x: 10, y: 10, r: 20 }], backgroundColor: '#D45087' },
                                { label: 'Li√™n √Å', data: [{ x: 7, y: 8, r: 12 }], backgroundColor: '#665191' },
                                { label: 'Kim C∆∞∆°ng', data: [{ x: 6, y: 7, r: 10 }], backgroundColor: '#FFA600' },
                                { label: 'Dunlopillo', data: [{ x: 9, y: 9, r: 8 }], backgroundColor: '#A05195' },
                                { label: 'Everon', data: [{ x: 7, y: 6, r: 7 }], backgroundColor: '#F95D6A' }
                            ]
                        },
                        options: { maintainAspectRatio: false, responsive: true, scales: { x: { title: { display: true, text: 'Gi√° B√°n (Th·∫•p -> Cao)' }, min: 3, max: 11 }, y: { title: { display: true, text: 'Ch·∫•t L∆∞·ª£ng & ƒê·ªô B·ªÅn (Trung B√¨nh -> Cao C·∫•p)' }, min: 4, max: 11 } }, plugins: { legend: { position: 'bottom' } } }
                    });
                }
            } catch (e) { console.error("L·ªói t·∫£i Bi·ªÉu ƒë·ªì ƒê·ªãnh v·ªã:", e); }
            
            try {
                const productMixCtx = document.getElementById('productMixChart');
                if (productMixCtx) {
                    new Chart(productMixCtx, {
                        type: 'doughnut',
                        data: {
                            labels: ['Cao su Thi√™n nhi√™n', 'N·ªám L√≤ xo', 'N·ªám Mouse (Foam)', 'N·ªám G√≤n'],
                            datasets: [{
                                label: 'T·ª∑ Tr·ªçng S·∫£n Ph·∫©m',
                                data: [45, 30, 15, 10],
                                backgroundColor: [ '#003F5C', '#665191', '#FFA600', '#D45087' ],
                                hoverOffset: 4
                            }]
                        },
                        options: { maintainAspectRatio: false, responsive: true, plugins: { legend: { position: 'bottom', labels: { font: { size: 11 } } } } }
                    });
                }
            } catch (e) { console.error("L·ªói t·∫£i Bi·ªÉu ƒë·ªì S·∫£n ph·∫©m:", e); }
    
            try {
                const channelStrategyCtx = document.getElementById('channelStrategyChart');
                if (channelStrategyCtx) {
                    new Chart(channelStrategyCtx, {
                        type: 'bar',
                        data: {
                            labels: ['Hi·ªán t·∫°i (∆Ø·ªõc t√≠nh)', 'M·ª•c ti√™u (1 NƒÉm)'],
                            datasets: [
                                { label: 'Social Ads (FB, TikTok)', data: [60, 30], backgroundColor: '#F95D6A', stack: 'strategy' },
                                { label: 'SEO / AEO / VEO', data: [10, 40], backgroundColor: '#003F5C', stack: 'strategy' },
                                { label: 'Affiliate / TMƒêT', data: [20, 20], backgroundColor: '#FFA600', stack: 'strategy' },
                                { label: 'PR / Brand Storytelling', data: [10, 10], backgroundColor: '#665191', stack: 'strategy' }
                            ]
                        },
                        options: { maintainAspectRatio: false, responsive: true, scales: { x: { stacked: true }, y: { stacked: true, title: { display: true, text: 'Ph√¢n B·ªï Ngu·ªìn L·ª±c (%)' } } }, plugins: { legend: { position: 'bottom' } } }
                    });
                }
            } catch (e) { console.error("L·ªói t·∫£i Bi·ªÉu ƒë·ªì K√™nh:", e); }
            
    
            // 4. Kh·ªüi t·∫°o G·∫Øn Event Listeners cho c√°c n√∫t AI (Kh√¥ng ƒë·ªïi)
            if (aeoQueryButton) { aeoQueryButton.addEventListener('click', () => { const query = aeoQueryInput.value || "So s√°nh n·ªám V·∫°n Th√†nh v√† Kymdan"; const systemPrompt = "B·∫°n l√† Hat Support, m·ªôt chuy√™n gia ph√¢n t√≠ch khi√™m h·∫°. H√£y tr·∫£ l·ªùi c√¢u h·ªèi c·ªßa ng∆∞·ªùi d√πng. **Tr√¨nh b√†y k·∫øt qu·∫£** m·ªôt c√°ch r√µ r√†ng, d√πng **in ƒë·∫≠m** v√† g·∫°ch ƒë·∫ßu d√≤ng ƒë·ªÉ so s√°nh ƒëi·ªÉm m·∫°nh/y·∫øu kh√°ch quan. Lu√¥n th·ªÉ hi·ªán s·ª± khi√™m h·∫°."; const userPrompt = query; callGeminiAPI(systemPrompt, userPrompt, aeoQueryResult); }); }
            if (generateContentButton) { generateContentButton.addEventListener('click', () => { const type = contentSelect.value; const systemPrompt = "B·∫°n l√† Hat Support, m·ªôt tr·ª£ l√Ω s√°ng t·∫°o n·ªôi dung khi√™m h·∫°. **Tr√¨nh b√†y √Ω t∆∞·ªüng** d∆∞·ªõi d·∫°ng danh s√°ch, d√πng **in ƒë·∫≠m** cho ti√™u ƒë·ªÅ k·ªãch b·∫£n/b√†i ƒëƒÉng. Gi·ªçng ƒëi·ªáu khi√™m t·ªën."; let userPrompt = ''; if (type === 'tiktok') { userPrompt = "T·∫°o 3 √Ω t∆∞·ªüng k·ªãch b·∫£n TikTok (d∆∞·ªõi 30 gi√¢y) ƒë·ªÉ th·ªÉ hi·ªán ƒë·ªô b·ªÅn ho·∫∑c s·ª± √™m √°i c·ªßa n·ªám V·∫°n Th√†nh. ƒê·ªãnh d·∫°ng: **[√ù T∆∞·ªüng 1]**, [C·∫£nh Quay], [Th√¥ng ƒêi·ªáp]."; } else { userPrompt = "T·∫°o 1 b√†i ƒëƒÉng cho Facebook Group 'H·ªôi Y√™u Gi·∫•c Ng·ªß Vi·ªát' v·ªõi m·ª•c ti√™u thu th·∫≠p kh·∫£o s√°t (Zero-Party Data) v·ªÅ th√≥i quen ng·ªß c·ªßa ng∆∞·ªùi d√πng. B√†i ƒëƒÉng ph·∫£i th√¢n thi·ªán, ƒë·∫∑t c√¢u h·ªèi t∆∞∆°ng t√°c."; } callGeminiAPI(systemPrompt, userPrompt, contentResult); }); }
            if (generateComboButton) { generateComboButton.addEventListener('click', () => { const comboType = comboTypeSelect.value; const systemPrompt = "B·∫°n l√† Hat Support, m·ªôt tr·ª£ l√Ω ph√°t tri·ªÉn s·∫£n ph·∫©m khi√™m h·∫°. **Tr√¨nh b√†y ph√°c th·∫£o** m·ªôt c√°ch r√µ r√†ng, chuy√™n nghi·ªáp, d√πng **in ƒë·∫≠m** cho c√°c ƒë·ªÅ m·ª•c (T√™n G√≥i, ƒê·ªëi T∆∞·ª£ng...)."; const userPrompt = `H√£y ph√°c th·∫£o G√≥i Combo: "${comboType}". N√™u r√µ: \n1. **T√™n G√≥i H·∫•p D·∫´n:** \n2. **ƒê·ªëi T∆∞·ª£ng Kh√°ch H√†ng:** \n3. **C√°c S·∫£n Ph·∫©m Bao G·ªìm (N·ªám V·∫°n Th√†nh + 2-3 s·∫£n ph·∫©m kh√°c):** \n4. **Th√¥ng ƒêi·ªáp Marketing Ch√≠nh:**`; callGeminiAPI(systemPrompt, userPrompt, comboResultBox); }); }
            if (generateSloganButton) { generateSloganButton.addEventListener('click', () => { const systemPrompt = "B·∫°n l√† Hat Support, m·ªôt tr·ª£ l√Ω s√°ng t·∫°o khi√™m h·∫°. H√£y t·∫°o ra 5 slogan. **Tr√¨nh b√†y k·∫øt qu·∫£** d∆∞·ªõi d·∫°ng danh s√°ch g·∫°ch ƒë·∫ßu d√≤ng (`-`) r√µ r√†ng, ƒë·∫πp m·∫Øt."; const userPrompt = "T·∫°o 5 slogan cho N·ªám V·∫°n Th√†nh d·ª±a tr√™n ƒë·ªãnh v·ªã c·ªët l√µi: 'B·ªÄN B·ªà T·ª™ 1980'. C√°c slogan ph·∫£i g·ª£i l√™n s·ª± tin c·∫≠y, ch·∫•t l∆∞·ª£ng v∆∞·ª£t th·ªùi gian v√† di s·∫£n."; callGeminiAPI(systemPrompt, userPrompt, sloganResultBox); }); }
            if (generateKPIReportButton) { generateKPIReportButton.addEventListener('click', () => { const systemPrompt = "B·∫°n l√† Hat Support, m·ªôt tr·ª£ l√Ω ph√¢n t√≠ch khi√™m h·∫°. H√£y so·∫°n th·∫£o m·ªôt email b√°o c√°o. **Tr√¨nh b√†y k·∫øt qu·∫£** d∆∞·ªõi d·∫°ng m·ªôt email chuy√™n nghi·ªáp, d√πng g·∫°ch ƒë·∫ßu d√≤ng cho c√°c KPI."; const userPrompt = "So·∫°n th·∫£o m·ªôt email b√°o c√°o ti·∫øn ƒë·ªô (d·∫°ng g·∫°ch ƒë·∫ßu d√≤ng) d·ª±a tr√™n c√°c KPI gi·∫£ ƒë·ªãnh sau: \n- **T·ª∑ l·ªá vi ph·∫°m MAP:** Gi·∫£m 90% (Th√†nh c√¥ng). \n- **S·ªë leads O2O:** TƒÉng 150% (V∆∞·ª£t mong ƒë·ª£i). \n- **Doanh thu Affiliate:** ƒêang x√¢y d·ª±ng (C·∫ßn theo d√µi). \n- **H√†nh ƒë·ªông ti·∫øp theo:** Tri·ªÉn khai GMB cho 100 ƒë·∫°i l√Ω ti·∫øp theo."; callGeminiAPI(systemPrompt, userPrompt, kpiReportResultBox); }); }
            if (generateProductDescButton) { generateProductDescButton.addEventListener('click', () => { const tier = document.getElementById('productTierSelect').value; const systemPrompt = "B·∫°n l√† Hat Support, m·ªôt tr·ª£ l√Ω copywriter khi√™m h·∫°. **Tr√¨nh b√†y k·∫øt qu·∫£** r√µ r√†ng, chuy√™n nghi·ªáp, c√≥ th·ªÉ d√πng **in ƒë·∫≠m** cho ti√™u ƒë·ªÅ v√† g·∫°ch ƒë·∫ßu d√≤ng cho l·ª£i √≠ch."; let userPrompt = `Vi·∫øt m·ªôt m√¥ t·∫£ s·∫£n ph·∫©m (kho·∫£ng 100 t·ª´) cho website N·ªám V·∫°n Th√†nh, ph√¢n kh√∫c ${tier}.`; if (tier === 'GOOD') { userPrompt += " T·∫≠p trung v√†o: 'gi√° r·∫ª', 'ti·∫øt ki·ªám', 'b·ªÅn b·ªâ', 'g·∫•p 3 ti·ªán l·ª£i'."; } else if (tier === 'BETTER') { userPrompt += " T·∫≠p trung v√†o: 'c√¢n b·∫±ng', 'n√¢ng ƒë·ª°', '√™m √°i', 'cao su thi√™n nhi√™n', 'l√≤ xo t√∫i'."; } else { userPrompt += " T·∫≠p trung v√†o: 'cao c·∫•p', 'sang tr·ªçng', 'di s·∫£n', 'nguy√™n li·ªáu tinh khi·∫øt', 'gi·∫•c ng·ªß chuy√™n s√¢u'."; } callGeminiAPI(systemPrompt, userPrompt, productDescResult); }); }
            if (generateMAPEmailButton) { generateMAPEmailButton.addEventListener('click', () => { const systemPrompt = "B·∫°n l√† Hat Support, m·ªôt tr·ª£ l√Ω truy·ªÅn th√¥ng khi√™m h·∫°. **Tr√¨nh b√†y k·∫øt qu·∫£** d∆∞·ªõi d·∫°ng m·ªôt email chuy√™n nghi·ªáp, r√µ r√†ng, c√≥ ti√™u ƒë·ªÅ, n·ªôi dung v√† k·∫øt th∆∞. Gi·ªçng ƒëi·ªáu v·ª´a nghi√™m t√∫c (v·ªÅ ch·∫ø t√†i) v·ª´a mang t√≠nh h·ª£p t√°c (v√¨ l·ª£i √≠ch chung)."; const userPrompt = "So·∫°n th·∫£o m·ªôt email trang tr·ªçng g·ª≠i to√†n b·ªô 1000 ƒë·∫°i l√Ω c·ªßa N·ªám V·∫°n Th√†nh, th√¥ng b√°o v·ªÅ vi·ªác √°p d·ª•ng 'Ch√≠nh S√°ch Gi√° Qu·∫£ng C√°o T·ªëi Thi·ªÉu (MAP)' t·ª´ th√°ng t·ªõi. N√™u r√µ: \n1. **L√Ω do:** B·∫£o v·ªá gi√° tr·ªã th∆∞∆°ng hi·ªáu v√† s·ª± c√¥ng b·∫±ng cho ƒë·∫°i l√Ω. \n2. **Quy ƒë·ªãnh:** C·∫•m qu·∫£ng c√°o chi·∫øt kh·∫•u X% (v√≠ d·ª•: 15%) tr√™n m·ªçi k√™nh online. \n3. **Ch·∫ø t√†i:** N√™u r√µ 3 c·∫•p ƒë·ªô (C·∫£nh c√°o, C·∫Øt chi·∫øt kh·∫•u, Ng·ª´ng cung c·∫•p). \n4. **K√™u g·ªçi h·ª£p t√°c:** v√¨ m·ª•c ti√™u chung."; callGeminiAPI(systemPrompt, userPrompt, mapEmailResult); }); }
            document.querySelectorAll('.brainstorm-button').forEach(button => { button.addEventListener('click', () => { const sectionId = button.dataset.sectionId; const sectionContent = button.dataset.sectionContent; const resultElement = document.getElementById(`brainstormResult-${sectionId}`); const systemPrompt = "B·∫°n l√† Hat Support, m·ªôt tr·ª£ l√Ω t∆∞ v·∫•n chi·∫øn l∆∞·ª£c khi√™m h·∫°. Nhi·ªám v·ª• c·ªßa b·∫°n l√† ƒë·∫∑t ra 3 c√¢u h·ªèi/v·∫•n ƒë·ªÅ m·ªü r·ªông 's·∫Øc s·∫£o' v√† 'mang t√≠nh x√¢y d·ª±ng' ƒë·ªÉ th·ª≠ th√°ch v√† l√†m r√µ h∆°n v·ªÅ m·ª•c n√†y.\n**Y√™u c·∫ßu:**\n1. **ƒê·ªãnh d·∫°ng:** Tr√¨nh b√†y 3 c√¢u h·ªèi d∆∞·ªõi d·∫°ng danh s√°ch g·∫°ch ƒë·∫ßu d√≤ng (`-`) r√µ r√†ng, ƒë·∫πp m·∫Øt.\n2. **Gi·ªçng ƒëi·ªáu:** Chuy√™n nghi·ªáp, khi√™m t·ªën.\n3. **Ch·∫•t l∆∞·ª£ng:** ƒê·ª´ng h·ªèi c√¢u h·ªèi 'c√≥/kh√¥ng'. H√£y h·ªèi 'nh∆∞ th·∫ø n√†o', 'ƒëi·ªÅu g√¨ s·∫Ω x·∫£y ra n·∫øu', 'l√†m sao ƒë·ªÉ ƒëo l∆∞·ªùng'."; const userPrompt = `D·ª±a tr√™n n·ªôi dung c·ªßa m·ª•c n√†y: "${sectionContent}", h√£y t·∫°o ra 3 c√¢u h·ªèi/v·∫•n ƒë·ªÅ th·∫£o lu·∫≠n m·ªü r·ªông.`; callGeminiAPI(systemPrompt, userPrompt, resultElement); }); });

            // 5. Kh·ªüi t·∫°o Chatbot
            if (chatFab) { chatFab.addEventListener('click', () => chatWindow.classList.toggle('visible')); }
            if (chatClose) { chatClose.addEventListener('click', () => {
                synthesizer.cancel(); // T·∫Øt gi·ªçng n√≥i khi ƒë√≥ng chat
                chatWindow.classList.remove('visible'); 
            }); }
            if (chatSend) { chatSend.addEventListener('click', handleChatSend); }
            if (chatInput) { chatInput.addEventListener('keyup', (e) => { if (e.key === 'Enter') handleChatSend(); }); }
            
            // 6. Kh·ªüi t·∫°o G·∫Øn Event Listeners cho c√°c Form G√≥p √ù
            try {
                document.querySelectorAll('.feedback-form').forEach(form => {
                    form.addEventListener('submit', handleFeedbackSubmit);
                });
                console.log("Kh·ªüi t·∫°o Form G√≥p √ù th√†nh c√¥ng.");
            } catch (e) { console.error("L·ªói kh·ªüi t·∫°o Form G√≥p √ù:", e); }

            // 7. (M·ªöI) Kh·ªüi t·∫°o Nh·∫≠n di·ªán Gi·ªçng n√≥i (Micro)
            if (chatMicButton) {
                initializeSpeechRecognition(chatMicButton, chatInput);
            }

            console.log("Kh·ªüi t·∫°o UI th√†nh c√¥ng.");
        };

        // --- LOGIC RI√äNG C·ª¶A CHATBOT (ƒê√É N√ÇNG C·∫§P) ---

        const CHATBOT_SYSTEM_PROMPT = `B·∫°n l√† Hat AI, m·ªôt tr·ª£ l√Ω t∆∞ v·∫•n chuy√™n nghi·ªáp, khi√™m h·∫°. B·∫°n ƒëang h·ªó tr·ª£ m·ªôt ƒë·ªëi t√°c (th√¢n ch·ªß) xem x√©t k·∫ø ho·∫°ch marketing cho N·ªám V·∫°n Th√†nh.
        PHONG C√ÅCH PH·∫¢N H·ªíI:
        1. X∆∞ng H√¥: Lu√¥n g·ªçi ng∆∞·ªùi d√πng l√† "th√¢n ch·ªß" v√† x∆∞ng "Hat AI" ho·∫∑c "t√¥i". Gi·ªçng ƒëi·ªáu lu√¥n khi√™m t·ªën, l·ªÖ ph√©p, t∆∞ v·∫•n (d·∫°, th∆∞a, xin ph√©p).
        2. B·ªë C·ª•c R√µ R√†ng: Khi tr·∫£ l·ªùi, h√£y d√πng Markdown ƒë·ªÉ ƒë·ªãnh d·∫°ng. S·ª≠ d·ª•ng **in ƒë·∫≠m** cho ti√™u ƒë·ªÅ, g·∫°ch ƒë·∫ßu d√≤ng ('-') cho danh s√°ch, v√† xu·ªëng d√≤ng h·ª£p l√Ω ƒë·ªÉ c√¢u tr·∫£ l·ªùi r√µ r√†ng, chuy√™n nghi·ªáp v√† ƒë·∫πp m·∫Øt.
        3. Th√°i ƒê·ªô: Lu√¥n th·ªÉ hi·ªán s·ª± chuy√™n nghi·ªáp, khi√™m h·∫° v√† "ƒë√≥n nh·∫≠n s·ª± g√≥p √Ω x√¢y d·ª±ng".
        4. Th√¥ng Minh & D·∫´n D·∫Øt: Sau m·ªói c√¢u tr·∫£ l·ªùi, h√£y ch·ªß ƒë·ªông ƒë·∫∑t 1 "c√¢u h·ªèi th√¥ng minh" ƒë·ªÉ d·∫´n d·∫Øt, g·ª£i √Ω ho·∫∑c ph·∫£n h·ªìi l·∫°i (v√≠ d·ª•: "Th√¢n ch·ªß c√≥ mu·ªën t√¥i ph√¢n t√≠ch s√¢u h∆°n v·ªÅ m·ª•c...?", "Th√¢n ch·ªß ƒë√°nh gi√° r·ªßi ro c·ªßa gi·∫£i ph√°p MAP n√†y nh∆∞ th·∫ø n√†o ·∫°?").
        N·ªòI DUNG PH·∫¢N H·ªíI:
        - Tr·∫£ l·ªùi c√°c c√¢u h·ªèi c·ªßa "th√¢n ch·ªß" v·ªÅ b·∫£n k·∫ø ho·∫°ch (B·ªëi c·∫£nh: Lo·∫°n gi√°; Gi·∫£i ph√°p: T√°i ƒë·ªãnh v·ªã 'B·ªÅn B·ªâ 1980', MAP, O2O, SEO Local).
        - N·∫øu th√¥ng tin kh√¥ng c√≥ trong b·ªëi c·∫£nh, h√£y "t·ª± t·∫°o sinh theo b·ªëi c·∫£nh" (d√πng ki·∫øn th·ª©c marketing chung) ƒë·ªÉ t∆∞ v·∫•n, nh∆∞ng ph·∫£i n√≥i r√µ ƒë√¢y l√† "g·ª£i √Ω m·ªü r·ªông".
        - Lu√¥n gi·ªØ th√°i ƒë·ªô h·ªó tr·ª£ v√† kh√¥ng tr·∫£ l·ªùi c√°c ch·ªß ƒë·ªÅ kh√¥ng li√™n quan ƒë·∫øn k·∫ø ho·∫°ch marketing.`;

        let chatHistory = [
            { role: "user", parts: [{ text: "B·∫Øt ƒë·∫ßu cu·ªôc tr√≤ chuy·ªán" }] },
            { role: "model", parts: [{ text: "D·∫°, Hat AI xin ch√†o th√¢n ch·ªß. Th√¢n ch·ªß c·∫ßn t√¥i h·ªó tr·ª£ t∆∞ v·∫•n g√¨ v·ªÅ k·∫ø ho·∫°ch n√†y ·∫°?" }] }
        ];

        /**
         * (M·ªöI) H√†m ph√°t √¢m thanh b·∫±ng tr√¨nh duy·ªát (TTS)
         */
        const speakText = (textToSpeak) => {
            synthesizer.cancel(); // D·ª´ng b·∫•t c·ª© g√¨ ƒëang n√≥i d·ªü

            const utterance = new SpeechSynthesisUtterance(textToSpeak);
            
            // C·ªë g·∫Øng t√¨m gi·ªçng Ti·∫øng Vi·ªát
            let vietnameseVoice = synthesizer.getVoices().find(voice => voice.lang === 'vi-VN');
            
            if (vietnameseVoice) {
                utterance.voice = vietnameseVoice;
            } else {
                // N·∫øu kh√¥ng c√≥ gi·ªçng 'vi-VN' (v√≠ d·ª• Firefox), d√πng gi·ªçng m·∫∑c ƒë·ªãnh
                console.warn("Kh√¥ng t√¨m th·∫•y gi·ªçng 'vi-VN'. D√πng gi·ªçng m·∫∑c ƒë·ªãnh.");
            }
            
            utterance.pitch = 1; // Gi·ªØ t√¥ng gi·ªçng
            utterance.rate = 1;  // T·ªëc ƒë·ªô ƒë·ªçc
            
            synthesizer.speak(utterance);
        };

        const addMessageToChatUI = (message, sender) => {
            const chatMessages = document.getElementById('chatMessages');
            if (!chatMessages) return;
            const thinking = chatMessages.querySelector('.thinking');
            if (thinking) thinking.remove();
            const messageElement = document.createElement('div');
            messageElement.classList.add('chat-message', sender);
            if (sender === 'model') {
                let formattedMessage = message.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>'); 
                formattedMessage = formattedMessage.replace(/\n/g, '<br>'); 
                formattedMessage = formattedMessage.replace(/(\<br\>|^)\s*-\s/g, '<br>‚Ä¢ '); 
                formattedMessage = formattedMessage.replace(/^\s*-\s/g, '‚Ä¢ ');
                messageElement.innerHTML = formattedMessage;
            } else {
                messageElement.textContent = message; 
            }
            chatMessages.appendChild(messageElement);
            chatMessages.scrollTop = chatMessages.scrollHeight; 
        };

        const handleChatSend = () => {
            synthesizer.cancel(); // D·ª´ng gi·ªçng n√≥i n·∫øu ƒëang n√≥i
            const chatInput = document.getElementById('chatInput');
            if (!chatInput) return;
            const userMessage = chatInput.value.trim();
            if (!userMessage) return;

            addMessageToChatUI(userMessage, 'user'); 
            chatHistory.push({ role: "user", parts: [{ text: userMessage }] });
            chatInput.value = '';

            const chatMessages = document.getElementById('chatMessages');
            const thinkingElement = document.createElement('div');
            thinkingElement.classList.add('chat-message', 'model', 'thinking');
            thinkingElement.innerHTML = `<span class="loader-dots"></span><span class="loader-dots"></span><span class="loader-dots"></span>`;
            chatMessages.appendChild(thinkingElement);
            chatMessages.scrollTop = chatMessages.scrollHeight;

            callChatbotAPI(userMessage);
        };

        /**
         * === H√ÄM CHATBOT ƒê√É N√ÇNG C·∫§P (G·ªåI TEXT + T·ª∞ ƒê·ªåC) ===
         */
        const callChatbotAPI = async (userMessage) => {
            
            const formData = new FormData();
            formData.append('action', 'callChatbot');
            formData.append('systemPrompt', CHATBOT_SYSTEM_PROMPT);
            formData.append('chatHistory', JSON.stringify(chatHistory));

            try {
                const response = await fetch(GOOGLE_SHEET_WEB_APP_URL, {
                    method: 'POST',
                    body: formData
                });
                if (!response.ok) throw new Error(`L·ªói m√°y ch·ªß Apps Script: ${response.status}`);
                const result = await response.json(); 

                if (result.status === 'success') {
                    const modelMessage = result.text;
                    addMessageToChatUI(modelMessage, 'model'); 
                    chatHistory.push({ role: "model", parts: [{ text: modelMessage }] });

                    // (M·ªöI) T·ª± ƒë·ªông ƒë·ªçc c√¢u tr·∫£ l·ªùi
                    speakText(modelMessage);

                } else {
                    throw new Error(result.message);
                }
            } catch (error) {
                console.error('L·ªói g·ªçi Apps Script (callChatbotAPI):', error);
                const errorMsg = `D·∫° th∆∞a th√¢n ch·ªß, Hat AI ƒëang g·∫∑p m·ªôt ch√∫t s·ª± c·ªë k·∫øt n·ªëi. ${error.message}. Xin th√¢n ch·ªß vui l√≤ng th·ª≠ l·∫°i sau ·∫°.`;
                addMessageToChatUI(errorMsg, 'model');
                speakText(errorMsg); // ƒê·ªçc th√¥ng b√°o l·ªói
            }
        };

        /**
         * === H√ÄM M·ªöI (CHO MICROPHONE - STT) ===
         * Kh·ªüi t·∫°o Web Speech API (STT)
         */
        const initializeSpeechRecognition = (micButton, inputElement) => {
            // Ki·ªÉm tra xem tr√¨nh duy·ªát c√≥ h·ªó tr·ª£ kh√¥ng (ch·ªâ Chrome/Edge)
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            if (!SpeechRecognition) {
                console.warn("Tr√¨nh duy·ªát n√†y kh√¥ng h·ªó tr·ª£ Web Speech API.");
                micButton.style.display = 'none'; // ·∫®n n√∫t micro n·∫øu kh√¥ng h·ªó tr·ª£
                return;
            }

            recognition = new SpeechRecognition();
            recognition.continuous = false; // Ch·ªâ nghe 1 c√¢u
            recognition.lang = 'vi-VN';      // Nghe Ti·∫øng Vi·ªát
            recognition.interimResults = false; // Ch·ªâ tr·∫£ v·ªÅ k·∫øt qu·∫£ cu·ªëi c√πng

            // Khi b·∫Øt ƒë·∫ßu nghe
            recognition.onstart = () => {
                micButton.classList.add('recording');
                micButton.title = "ƒêang nghe...";
                synthesizer.cancel(); // T·∫Øt loa n·∫øu ƒëang n√≥i
            };

            // Khi c√≥ k·∫øt qu·∫£
            recognition.onresult = (event) => {
                const transcript = event.results[0][0].transcript;
                inputElement.value = transcript; // ƒê∆∞a k·∫øt qu·∫£ v√†o √¥ chat
                handleChatSend(); // T·ª± ƒë·ªông g·ª≠i
            };

            // Khi k·∫øt th√∫c nghe (d√π c√≥ k·∫øt qu·∫£ hay kh√¥ng)
            recognition.onend = () => {
                micButton.classList.remove('recording');
                micButton.title = "Nh·∫•n ƒë·ªÉ n√≥i";
            };

            // Khi c√≥ l·ªói
            recognition.onerror = (event) => {
                console.error("L·ªói nh·∫≠n di·ªán gi·ªçng n√≥i:", event.error);
                micButton.classList.remove('recording');
                micButton.title = "Nh·∫•n ƒë·ªÉ n√≥i";
            };

            // G·∫Øn s·ª± ki·ªán click
            micButton.addEventListener('click', () => {
                if (micButton.classList.contains('recording')) {
                    recognition.stop(); // Nh·∫•n l·∫ßn n·ªØa ƒë·ªÉ d·ª´ng
                } else {
                    recognition.start(); // Nh·∫•n ƒë·ªÉ b·∫Øt ƒë·∫ßu nghe
                }
            });
        };

        // --- KH·ªûI CH·∫†Y ---
        // Ph·∫£i t·∫£i danh s√°ch gi·ªçng n√≥i tr∆∞·ªõc
        synthesizer.getVoices(); 
        if (speechSynthesis.onvoiceschanged !== undefined) {
            speechSynthesis.onvoiceschanged = () => synthesizer.getVoices();
        }
        
        initializeUI();
        
    </script>
</body>
</html>
